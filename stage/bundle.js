(()=>{"use strict";var e={250:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(537),r=n.n(i),s=n(645),o=n.n(s)()(r());o.push([e.id,"body {\n    overflow: hidden;\n    margin: 0;\n}\ncanvas {\n    image-rendering: -moz-crisp-edges;\n    image-rendering: -webkit-crisp-edges;\n    image-rendering: pixelated;\n    image-rendering: crisp-edges;\n    touch-action: none;\n}","",{version:3,sources:["webpack://./assets/styles.css"],names:[],mappings:"AAAA;IACI,gBAAgB;IAChB,SAAS;AACb;AACA;IACI,iCAAiC;IACjC,oCAAoC;IACpC,0BAA0B;IAC1B,4BAA4B;IAC5B,kBAAkB;AACtB",sourcesContent:["body {\n    overflow: hidden;\n    margin: 0;\n}\ncanvas {\n    image-rendering: -moz-crisp-edges;\n    image-rendering: -webkit-crisp-edges;\n    image-rendering: pixelated;\n    image-rendering: crisp-edges;\n    touch-action: none;\n}"],sourceRoot:""}]);const a=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(o[h]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&o[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(r," */"),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(o).concat([s]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},o=[],a=0;a<e.length;a++){var h=e[a],c=i.base?h[0]+i.base:h[0],d=s[c]||0,l="".concat(c," ").concat(d);s[c]=d+1;var u=n(l),m={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var f=r(m,i);i.byIndex=a,t.splice(a,0,{identifier:l,updater:f,references:1})}o.push(l)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var h=i(e,r),c=0;c<s.length;c++){var d=n(s[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=h}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},882:(e,t,n)=>{e.exports=n.p+"ed17f79baa7055d36fac.png"}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.u=e=>e+".bundle.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,(()=>{var e=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,t=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,i=/[^-+\dA-Z]/g,r={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")},a=function(e){var t=e.y,n=e.m,i=e.d,r=e._,s=e.dayName,o=e.short,a=void 0!==o&&o,h=new Date,c=new Date;c.setDate(c[r+"Date"]()-1);var d=new Date;return d.setDate(d[r+"Date"]()+1),h[r+"FullYear"]()===t&&h[r+"Month"]()===n&&h[r+"Date"]()===i?a?"Tdy":"Today":c[r+"FullYear"]()===t&&c[r+"Month"]()===n&&c[r+"Date"]()===i?a?"Ysd":"Yesterday":d[r+"FullYear"]()===t&&d[r+"Month"]()===n&&d[r+"Date"]()===i?a?"Tmw":"Tomorrow":s},h=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-i);var r=(t-n)/6048e5;return 1+Math.floor(r)},c=function(e){var t=e.getDay();return 0===t&&(t=7),t},d=function(e){return(String(e).match(t)||[""]).pop().replace(i,"").replace(/GMT\+0000/g,"UTC")};function l(t){const n=new Date;console.log("("+function(t,n,i,l){if(1!==arguments.length||"string"!=typeof t||/\d/.test(t)||(n=t,t=void 0),(t=t||0===t?t:new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var u=(n=String(r[n]||n||r.default)).slice(0,4);"UTC:"!==u&&"GMT:"!==u||(n=n.slice(4),i=!0,"GMT:"===u&&(l=!0));var m=function(){return i?"getUTC":"get"},f=function(){return t[m()+"Date"]()},v=function(){return t[m()+"Day"]()},p=function(){return t[m()+"Month"]()},w=function(){return t[m()+"FullYear"]()},E=function(){return t[m()+"Hours"]()},y=function(){return t[m()+"Minutes"]()},g=function(){return t[m()+"Seconds"]()},M=function(){return t[m()+"Milliseconds"]()},D=function(){return i?0:t.getTimezoneOffset()},b=function(){return h(t)},x=function(){return c(t)},T={d:function(){return f()},dd:function(){return o(f())},ddd:function(){return s.dayNames[v()]},DDD:function(){return a({y:w(),m:p(),d:f(),_:m(),dayName:s.dayNames[v()],short:!0})},dddd:function(){return s.dayNames[v()+7]},DDDD:function(){return a({y:w(),m:p(),d:f(),_:m(),dayName:s.dayNames[v()+7]})},m:function(){return p()+1},mm:function(){return o(p()+1)},mmm:function(){return s.monthNames[p()]},mmmm:function(){return s.monthNames[p()+12]},yy:function(){return String(w()).slice(2)},yyyy:function(){return o(w(),4)},h:function(){return E()%12||12},hh:function(){return o(E()%12||12)},H:function(){return E()},HH:function(){return o(E())},M:function(){return y()},MM:function(){return o(y())},s:function(){return g()},ss:function(){return o(g())},l:function(){return o(M(),3)},L:function(){return o(Math.floor(M()/10))},t:function(){return E()<12?s.timeNames[0]:s.timeNames[1]},tt:function(){return E()<12?s.timeNames[2]:s.timeNames[3]},T:function(){return E()<12?s.timeNames[4]:s.timeNames[5]},TT:function(){return E()<12?s.timeNames[6]:s.timeNames[7]},Z:function(){return l?"GMT":i?"UTC":d(t)},o:function(){return(D()>0?"-":"+")+o(100*Math.floor(Math.abs(D())/60)+Math.abs(D())%60,4)},p:function(){return(D()>0?"-":"+")+o(Math.floor(Math.abs(D())/60),2)+":"+o(Math.floor(Math.abs(D())%60),2)},S:function(){return["th","st","nd","rd"][f()%10>3?0:(f()%100-f()%10!=10)*f()%10]},W:function(){return b()},WW:function(){return o(b())},N:function(){return x()}};return n.replace(e,(function(e){return e in T?T[e]():e.slice(1,e.length-1)}))}(n,"yyyy/mm/dd HH:MM:ss.l")+") JS: "+t)}const u=new Map;function m(e,t){return()=>{const n=u.get(e);n&&clearTimeout(n),u.set(e,setTimeout(e,t))}}var f=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{h(i.next(e))}catch(e){s(e)}}function a(e){try{h(i.throw(e))}catch(e){s(e)}}function h(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))};const v=10,p={TILES:{EMPTY:{x:0,y:0,w:v,h:v},1:{x:10,y:0,w:v,h:v},2:{x:20,y:0,w:v,h:v},3:{x:30,y:0,w:v,h:v},4:{x:40,y:0,w:v,h:v},5:{x:50,y:0,w:v,h:v},6:{x:60,y:0,w:v,h:v},7:{x:70,y:0,w:v,h:v},8:{x:80,y:0,w:v,h:v},MINE:{x:90,y:0,w:v,h:v},HIDDEN:{x:100,y:0,w:v,h:v},FLAG:{x:110,y:0,w:v,h:v},CLOSE:{x:120,y:0,w:v,h:v}},MODAL:{BACK:{x:0,y:80,w:24,h:v},BACK_HOVERED:{x:24,y:80,w:24,h:v}},MAIN_MENU:{TITLE:{x:0,y:10,w:95,h:v},EASY:{x:0,y:20,w:26,h:v},EASY_HOVERED:{x:26,y:20,w:26,h:v},MEDIUM:{x:0,y:30,w:35,h:v},MEDIUM_HOVERED:{x:35,y:30,w:30,h:v},HARD:{x:0,y:40,w:25,h:v},HARD_HOVERED:{x:25,y:40,w:26,h:v},CUSTOM:{x:0,y:50,w:38,h:v},CUSTOM_HOVERED:{x:38,y:50,w:26,h:v}},RETRY_MODAL:{TITLE:{x:0,y:60,w:45,h:v},RETRY:{x:0,y:70,w:30,h:v},RETRY_HOVERED:{x:30,y:70,w:30,h:v}},SUCCESS_MODAL:{TITLE:{x:0,y:90,w:52,h:v},RESET:{x:0,y:100,w:53,h:v},RESET_HOVERED:{x:53,y:100,w:53,h:v}}},w=document.getElementById("canvas"),E=w.getContext("2d"),y=new Image,g=new Promise((e=>{y.addEventListener("load",(()=>{l("Finished loading spritesheet"),e()}))}));function M(e,t){return f(this,void 0,void 0,(function*(){yield g.then((()=>{E.drawImage(y,e.x,e.y,e.w,e.h,t.x,t.y,t.w,t.h)}))}))}y.src=new URL(n(882),n.b).toString();class D{constructor(){this.eventListeners=new Map}addEventListener(e,t){var n;const i=null!==(n=this.eventListeners.get(e))&&void 0!==n?n:[];this.eventListeners.set(e,[...i,t])}removeEventListener(e,t){var n;const i=null!==(n=this.eventListeners.get(e))&&void 0!==n?n:[];this.eventListeners.set(e,i.filter((e=>e===t)))}callEventListeners(e,t){var n;(null!==(n=this.eventListeners.get(e))&&void 0!==n?n:[]).forEach((e=>e(t)))}}const b=(e,t)=>e.reduce(((e,n)=>e.sprite[t]*e.scale>n.sprite[t]*n.scale?e:n));function x(e,t){const n=w.getBoundingClientRect();return[Math.round(e-n.left),Math.round(t-n.top)]}function T(e,t,n){return e>n.x&&t>n.y&&e<n.x+n.w&&t<n.y+n.h}class S extends D{constructor(e){super(),this.elements=e,this.tallestElement=b(e,"h"),this.longestElement=b(e,"w"),this.elementHitboxes=new Map,this.hoveredElement=null,this.handlePointerMove=e=>{const[t,n]=x(e.clientX,e.clientY);for(const[e,i]of this.elementHitboxes.entries())if(T(t,n,i))return void(this.hoveredElement!==e&&(this.hoveredElement=e,this.callEventListeners("hover",{hoveredElement:e})));null!==this.hoveredElement&&(this.hoveredElement=null,this.callEventListeners("hover",{hoveredElement:null}))},this.handlePointerDown=e=>{const[t,n]=x(e.clientX,e.clientY);for(const[e,i]of this.elementHitboxes.entries())T(t,n,i)&&this.callEventListeners("press",{pressedElement:e});return null},this.registerEvents()}draw(e){return t=this,n=void 0,r=function*(){e||(e={x:0,y:0,w:w.width,h:w.height});let t=e.h*(.5/this.elements.length)/(this.tallestElement.sprite.h*this.tallestElement.scale);return t*this.longestElement.sprite.w*this.longestElement.scale>=.9*e.w&&(t=.9*e.w/(this.longestElement.sprite.w*this.longestElement.scale)),new Promise((n=>{let i=e.y+this.tallestElement.sprite.h*t*.5;this.elements.forEach((n=>{const r=n.sprite.w*n.scale*t,s=n.sprite.h*n.scale*t,o={x:e.x+(e.w/2-r/2),y:i,w:r,h:s};n.interactable&&this.elementHitboxes.set(n.id,o);const a=(h=n.sprite,JSON.parse(JSON.stringify(h)));var h;n.id===this.hoveredElement&&"hoveredSprite"in n&&(a.x=n.hoveredSprite.x,a.y=n.hoveredSprite.y),M(a,o),i+=1.5*s})),n()}))},new((i=void 0)||(i=Promise))((function(e,s){function o(e){try{h(r.next(e))}catch(e){s(e)}}function a(e){try{h(r.throw(e))}catch(e){s(e)}}function h(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,a)}h((r=r.apply(t,n||[])).next())}));var t,n,i,r}registerEvents(){window.addEventListener("pointermove",this.handlePointerMove),window.addEventListener("pointerdown",this.handlePointerDown)}deregisterEvents(){window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerdown",this.handlePointerDown)}}const L=e=>({x:e.x,y:e.y});const A={id:"menu.main.title",sprite:p.MAIN_MENU.TITLE,scale:1},C={id:"menu.main.easy_button",sprite:p.MAIN_MENU.EASY,hoveredSprite:L(p.MAIN_MENU.EASY_HOVERED),scale:1.25,interactable:!0},P={id:"menu.main.medium_button",sprite:p.MAIN_MENU.MEDIUM,hoveredSprite:L(p.MAIN_MENU.MEDIUM_HOVERED),scale:1.25,interactable:!0},I={id:"menu.main.hard_button",sprite:p.MAIN_MENU.HARD,hoveredSprite:L(p.MAIN_MENU.HARD_HOVERED),scale:1.25,interactable:!0},N=[A,C,P,I];var O,R,H=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},_=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};const U=30;class Y extends D{constructor(e){super(),O.set(this,void 0),R.set(this,void 0),this.fieldSize=e,this.reset(),this.pointerDownEvent=null,this.handleWheel=e=>{const t=H(this,R,"f")+-.005*e.deltaY;t>.2&&t<4&&(_(this,R,t,"f"),this.callEventListeners("move",{translation:H(this,O,"f"),scale:H(this,R,"f")}))},this.handlePointerDown=e=>{e.preventDefault(),null==this.pointerDownEvent&&(this.pointerDownEvent={touches:[],moveOrScale:!1,distance:null,timeout:setTimeout((()=>{null==this.pointerDownEvent||this.pointerDownEvent.moveOrScale||(this.callEventListeners("longpress",{pos:this.toWorldPos(this.pointerDownEvent.touches[0].clientX,this.pointerDownEvent.touches[0].clientY),button:e.button}),this.pointerDownEvent=null)}),200)}),this.pointerDownEvent.touches.push(e)},this.handlePointerMove=e=>{if(e.preventDefault(),null==this.pointerDownEvent)return;if(1===this.pointerDownEvent.touches.length){const t=e.clientX-this.pointerDownEvent.touches[0].clientX,n=e.clientY-this.pointerDownEvent.touches[0].clientY;if(!this.pointerDownEvent.moveOrScale&&Math.abs(t)<7.5&&Math.abs(n)<7.5)return;H(this,O,"f").x+=t,H(this,O,"f").y+=n;const i=this.fieldSize.w*U*H(this,R,"f")/2,r=this.fieldSize.h*U*H(this,R,"f")/2;H(this,O,"f").x=Math.min(H(this,O,"f").x,i),H(this,O,"f").x=Math.max(H(this,O,"f").x,-i),H(this,O,"f").y=Math.min(H(this,O,"f").y,r),H(this,O,"f").y=Math.max(H(this,O,"f").y,-r)}else{const e=this.pointerDownEvent.touches[0],t=this.pointerDownEvent.touches[1],n=Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY);null!=this.pointerDownEvent.distance&&(_(this,R,H(this,R,"f")+.005*(n-this.pointerDownEvent.distance),"f"),_(this,R,Math.max(H(this,R,"f"),.2),"f"),_(this,R,Math.min(H(this,R,"f"),4),"f")),this.pointerDownEvent.distance=n}this.pointerDownEvent.moveOrScale=!0;const t=this.pointerDownEvent.touches.findIndex((t=>t.pointerId===e.pointerId));this.pointerDownEvent.touches[t]=e,this.callEventListeners("move",{translation:H(this,O,"f"),scale:H(this,R,"f")})},this.handlePointerOut=e=>{e.preventDefault(),null!=this.pointerDownEvent&&(this.pointerDownEvent.touches.length>1?(this.pointerDownEvent.touches=this.pointerDownEvent.touches.filter((t=>t.pointerId!==e.pointerId)),this.pointerDownEvent.distance=null):(clearTimeout(this.pointerDownEvent.timeout),this.pointerDownEvent=null))},this.handlePointerUp=e=>{if(e.preventDefault(),null!=this.pointerDownEvent){if(this.pointerDownEvent.touches.length>1)return this.pointerDownEvent.touches=this.pointerDownEvent.touches.filter((t=>t.pointerId!==e.pointerId)),void(this.pointerDownEvent.distance=null);this.pointerDownEvent.moveOrScale||this.callEventListeners("press",{pos:this.toWorldPos(this.pointerDownEvent.touches[0].clientX,this.pointerDownEvent.touches[0].clientY),button:e.button}),clearTimeout(this.pointerDownEvent.timeout),this.pointerDownEvent=null}},this.registerEvents()}middleTranslation(){return{x:w.width/2-this.scale*(this.fieldSize.w*U/2),y:w.height/2-this.scale*(this.fieldSize.h*U/2)}}get translation(){return H(this,O,"f")}get scale(){return H(this,R,"f")}toCanvasPos(e,t){const n=this.middleTranslation();return{x:n.x+(this.translation.x+e*U*this.scale),y:n.y+(this.translation.y+t*U*this.scale)}}toWorldPos(e,t){const n=this.middleTranslation(),i=w.getBoundingClientRect();return{x:Math.floor((e-i.left-n.x-this.translation.x)/this.scale/U),y:Math.floor((t-i.left-n.y-this.translation.y)/this.scale/U)}}reset(){_(this,R,Math.min(w.width/(this.fieldSize.w*U*1.1),w.height/(this.fieldSize.h*U*1.1)),"f"),_(this,R,Math.max(H(this,R,"f"),.2),"f"),_(this,R,Math.min(H(this,R,"f"),4),"f"),_(this,O,{x:0,y:0},"f")}registerEvents(){w.addEventListener("wheel",this.handleWheel),w.addEventListener("pointerdown",this.handlePointerDown),w.addEventListener("pointermove",this.handlePointerMove),w.addEventListener("pointerout",this.handlePointerOut),w.addEventListener("pointerup",this.handlePointerUp)}deregisterEvents(){w.removeEventListener("wheel",this.handleWheel),w.removeEventListener("pointerdown",this.handlePointerDown),w.removeEventListener("pointermove",this.handlePointerMove),w.removeEventListener("pointerout",this.handlePointerOut),w.removeEventListener("pointerup",this.handlePointerUp)}}O=new WeakMap,R=new WeakMap;const W={id:"modal.close_button",sprite:p.TILES.CLOSE,scale:1},z={id:"modal.back_button",sprite:p.MODAL.BACK,hoveredSprite:L(p.MODAL.BACK_HOVERED),scale:1.25,interactable:!0};class k extends S{constructor(e){super(e)}draw(){const e=Object.create(null,{draw:{get:()=>super.draw}});return t=this,n=void 0,r=function*(){yield new Promise((e=>{const t=w.width,n=w.height;E.fillStyle="rgba(0, 0, 0, 0.4)",E.fillRect(0,0,t,n);const i=t>n?.8*n:.8*t,r=t/2-i/2,s=n/2-i/2,o=i/10;for(let e=0;e<10;e++)for(let t=0;t<10;t++){const n={x:r+t*o,y:s+e*o,w:o,h:o};let i={x:p.TILES.EMPTY.w/2,y:p.TILES.EMPTY.h/2,w:1,h:1};0!==t&&9!==t&&0!==e&&9!==e||(9===t&&0===e?(i=W.sprite,this.elementHitboxes.set(W.id,n)):i=p.TILES.HIDDEN),M(i,n)}e({x:r+o,y:s+o,w:i-2*o,h:i-2*o})})).then((t=>e.draw.call(this,t)))},new((i=void 0)||(i=Promise))((function(e,s){function o(e){try{h(r.next(e))}catch(e){s(e)}}function a(e){try{h(r.throw(e))}catch(e){s(e)}}function h(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,a)}h((r=r.apply(t,n||[])).next())}));var t,n,i,r}}const B={id:"modal.retry.title",sprite:p.RETRY_MODAL.TITLE,scale:1},j={id:"modal.retry.retry_button",sprite:p.RETRY_MODAL.RETRY,hoveredSprite:L(p.RETRY_MODAL.RETRY_HOVERED),scale:1.25,interactable:!0},F=[B,j,z],V=k.bind(k,F),Z={id:"modal.success.title",sprite:p.SUCCESS_MODAL.TITLE,scale:1},J={id:"modal.success.reset_button",sprite:p.SUCCESS_MODAL.RESET,hoveredSprite:L(p.SUCCESS_MODAL.RESET_HOVERED),scale:1.25,interactable:!0},G=[Z,J,z],X=k.bind(k,G);var K=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{h(i.next(e))}catch(e){s(e)}}function a(e){try{h(i.throw(e))}catch(e){s(e)}}function h(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))};l("Creating WASM worker");const $=new Worker(new URL(n.p+n.u(827),n.b)),q=new Map;l("Registering WebIO event listener for Go"),$.addEventListener("message",(e=>{if(e.data){const t=e.data,[n,i]=q.get(t.id);t.success?n(t.data):(l("Error response for '"+t.cmd+"': "+t.data),i(t.data))}}));let Q=!1;const ee=[];function te(e,t,n){return new Promise(((i,r)=>{const s=function(e,t){return{cmd:e,id:e+Date.now(),data:t}}(e,t);q.set(s.id,[i,r]),n||Q?$.postMessage(s):(l(e+" message received, but worker hasn't connected yet. Adding to queue"),ee.push(s))}))}function ne(e){return K(this,void 0,void 0,(function*(){const t=te("ping",null,!0),n=new Promise(((t,n)=>setTimeout(n,e)));try{return yield Promise.race([t,n]),Q=!0,ee.forEach((e=>{$.postMessage(e)})),ee.length=0,!0}catch(e){return!1}}))}(function(){return K(this,void 0,void 0,(function*(){let e=0,t=100;for(;!Q&&e<5;)l("Sending ping with timeout "+t+"ms"),e++,(yield ne(t))||(t*=2,l("Ping timeout reached"));if(e>=5)throw new Error("Max pings 5 reached, assuming WASM module is not functional")}))})().then((()=>{l("Response to ping received, worker connected")}));var ie,re=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{h(i.next(e))}catch(e){s(e)}}function a(e){try{h(i.throw(e))}catch(e){s(e)}}function h(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))},se=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},oe=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class ae{constructor(){ie.set(this,void 0),this.modal=null,se(this,ie,!0,"f")}open(e){this.modal=e,se(this,ie,!1,"f")}close(){if(!this.modal)throw new Error("No modal to close");this.hide(),this.modal=null}get hidden(){return oe(this,ie,"f")}hide(){if(!this.modal)throw new Error("No modal to hide");this.modal.deregisterEvents(),se(this,ie,!0,"f")}reveal(){if(!this.modal)throw new Error("No modal to reveal");this.modal.registerEvents(),se(this,ie,!1,"f")}draw(){return re(this,void 0,void 0,(function*(){oe(this,ie,"f")||(yield this.modal.draw())}))}deregisterEvents(){var e;null===(e=this.modal)||void 0===e||e.deregisterEvents()}}function he(e){e.preventDefault()}ie=new WeakMap;class ce{constructor(e,t,n,i){this.fieldSize={w:e,h:t},this.numMines=n,this.handleBack=i,this.camera=new Y(this.fieldSize),this.camera.addEventListener("press",this.handlePress.bind(this)),this.camera.addEventListener("longpress",this.handleLongPress.bind(this)),this.camera.addEventListener("move",this.draw.bind(this)),this.modal=new ae,this.drawWithLimit=m(this.draw.bind(this),100),this.reset(),this.registerEvents()}reset(){this.camera.reset(),this.gameOver=!1,te("init",{width:this.fieldSize.w,height:this.fieldSize.h,mines:this.numMines}).then(this.draw.bind(this))}draw(){return re(this,void 0,void 0,(function*(){const e={x:0,y:0,w:this.fieldSize.w,h:this.fieldSize.h};yield te("appearance",e).then(this.drawAppearance.bind(this)).then(this.modal.draw.bind(this.modal))}))}registerEvents(){window.addEventListener("resize",this.drawWithLimit),w.addEventListener("contextmenu",he),this.modal.hidden&&this.camera.registerEvents()}deregisterEvents(){window.removeEventListener("resize",this.drawWithLimit),w.removeEventListener("contextmenu",he),this.camera.deregisterEvents(),this.modal.deregisterEvents()}drawAppearance(e){return re(this,void 0,void 0,(function*(){const t=w.width,n=w.height;E.clearRect(0,0,t,n);const i=[];for(let t=0;t<this.fieldSize.h;++t)for(let n=0;n<this.fieldSize.w;++n){const r=p.TILES[e[t][n]],s=this.camera.toCanvasPos(n,t);i.push(M(r,{x:s.x,y:s.y,w:U*this.camera.scale,h:U*this.camera.scale}))}return Promise.all(i)}))}handleState(e){switch(e.state){case"win":this.gameOver=!0,l("Win detected, displaying success modal"),this.handleEndGameModal(X,J.id);break;case"loss":this.gameOver=!0,l("Loss detected, displaying retry modal"),setTimeout(this.handleEndGameModal.bind(this,V,j.id),1e3)}}handleEndGameModal(e,t){return re(this,void 0,void 0,(function*(){const n=new e;this.modal.open(n),n.addEventListener("hover",this.draw.bind(this)),n.addEventListener("press",(e=>{switch(e.pressedElement){case W.id:this.modal.hide(),this.camera.registerEvents(),this.draw();break;case t:this.modal.close(),this.camera.registerEvents(),this.reset(),this.draw();break;case z.id:this.deregisterEvents(),this.handleBack()}})),this.camera.deregisterEvents(),yield this.draw()}))}handlePress(e){this.gameOver?this.modal.hidden&&(this.modal.reveal(),this.camera.deregisterEvents(),this.draw()):0===e.button?te("uncover",e.pos).then((e=>re(this,void 0,void 0,(function*(){yield this.draw(),this.handleState(e)})))):2===e.button&&te("flag",e.pos).then(this.draw.bind(this))}handleLongPress(e){this.gameOver||0!==e.button||te("flag",e.pos).then(this.draw.bind(this))}}var de=n(379),le=n.n(de),ue=n(795),me=n.n(ue),fe=n(569),ve=n.n(fe),pe=n(565),we=n.n(pe),Ee=n(216),ye=n.n(Ee),ge=n(589),Me=n.n(ge),De=n(250),be={};function xe(){w.width=window.innerWidth,w.height=window.innerHeight,E.imageSmoothingEnabled=!1,E.webkitImageSmoothingEnabled=!1,E.mozImageSmoothingEnabled=!1}be.styleTagTransform=Me(),be.setAttributes=we(),be.insert=ve().bind(null,"head"),be.domAPI=me(),be.insertStyleElement=ye(),le()(De.Z,be),De.Z&&De.Z.locals&&De.Z.locals,window.addEventListener("resize",xe),xe();const Te=new class extends S{constructor(){super(N),super.addEventListener("press",this.draw.bind(this)),super.addEventListener("hover",this.draw.bind(this)),this.drawWithLimit=m(this.draw.bind(this),100),this.registerEvents()}draw(){const e=Object.create(null,{draw:{get:()=>super.draw}});return t=this,n=void 0,r=function*(){return function(e){return f(this,void 0,void 0,(function*(){e||(e={x:0,y:0,w:w.width,h:w.height}),E.clearRect(e.x,e.y,e.w,e.h)}))}().then(e.draw.bind(this))},new((i=void 0)||(i=Promise))((function(e,s){function o(e){try{h(r.next(e))}catch(e){s(e)}}function a(e){try{h(r.throw(e))}catch(e){s(e)}}function h(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,a)}h((r=r.apply(t,n||[])).next())}));var t,n,i,r}registerEvents(){super.registerEvents(),window.addEventListener("resize",this.drawWithLimit)}deregisterEvents(){super.deregisterEvents(),window.removeEventListener("resize",this.drawWithLimit)}};Te.addEventListener("press",(e=>{let t,n,i;switch(Te.deregisterEvents(),e.pressedElement){case C.id:t=9,n=9,i=10;break;case P.id:t=16,n=16,i=40;break;case I.id:t=30,n=16,i=99}new ce(t,n,i,(()=>{Te.registerEvents(),Te.draw()}))})),Te.draw()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFDVm5ILEVBQUd5RCxFQUFPMkQsU0FHbEJ6RCxFQUFJd0osVUFBVXRILEVBQUs3RCxFQUFHNkQsRUFBSzlKLEVBQUc4SixFQUFLNUQsRUFBRzRELEVBQUs3RixNSW5CaENtTyxHQUFRN0osS0FBSyxFQUFNMkMsS0FBSzRELEtBQUtqWixRLCtSQUd4Q29WLGlCQUNJWCxNQUFNVyxpQkFDTmhSLE9BQU9rTyxpQkFBaUIsU0FBVXRTLEtBQUttYixlQUczQ3JGLG1CQUNJckIsTUFBTXFCLG1CQUNOMVIsT0FBTytPLG9CQUFvQixTQUFVblQsS0FBS21iLGlCUXhDbERtQixHQUFTaEssaUJBQWlCLFNBQVVpQixJQUloQyxJQUFJZ0MsRUFBT0MsRUFBUXNGLEVBQ25CLE9BSkF3QixHQUFTeEcsbUJBSUR2QyxFQUFNNEIsZ0JBQ2QsS0FBS2MsRUFBWXRXLEdBQ2I0VixFQUFRLEVBQ1JDLEVBQVMsRUFDVHNGLEVBQVcsR0FDWCxNQUNKLEtBQUs1RSxFQUFjdlcsR0FDZjRWLEVBQVEsR0FDUkMsRUFBUyxHQUNUc0YsRUFBVyxHQUNYLE1BQ0osS0FBSzNFLEVBQVl4VyxHQUNiNFYsRUFBUSxHQUNSQyxFQUFTLEdBQ1RzRixFQUFXLEdBS2YsSUFBSUQsR0FBS3RGLEVBQU9DLEVBQVFzRixHQUFVLEtBQzlCd0IsR0FBU2xILGlCQUNUa0gsR0FBU2pILGFBR2pCaUgsR0FBU2pILFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL2Fzc2V0cy9zdHlsZXMuY3NzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL21pbmVzd2VlcGVyL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL21pbmVzd2VlcGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9ub2RlX21vZHVsZXMvZGF0ZWZvcm1hdC9saWIvZGF0ZWZvcm1hdC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy91dGlsLnRzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2RyYXcudHMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvZXZlbnQtbWFuYWdlci50cyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9tZW51LnRzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbW1vbi50cyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9tYWluLW1lbnUudHMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvY2FtZXJhLnRzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL21vZGFsLnRzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL3JldHJ5LW1vZGFsLnRzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL3N1Y2Nlc3MtbW9kYWwudHMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvd29ya2VyLWhlbHBlci50cyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vYXNzZXRzL3N0eWxlcy5jc3M/Zjc2NCIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIG1hcmdpbjogMDtcXG59XFxuY2FudmFzIHtcXG4gICAgaW1hZ2UtcmVuZGVyaW5nOiAtbW96LWNyaXNwLWVkZ2VzO1xcbiAgICBpbWFnZS1yZW5kZXJpbmc6IC13ZWJraXQtY3Jpc3AtZWRnZXM7XFxuICAgIGltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkO1xcbiAgICBpbWFnZS1yZW5kZXJpbmc6IGNyaXNwLWVkZ2VzO1xcbiAgICB0b3VjaC1hY3Rpb246IG5vbmU7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL2Fzc2V0cy9zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFNBQVM7QUFDYjtBQUNBO0lBQ0ksaUNBQWlDO0lBQ2pDLG9DQUFvQztJQUNwQywwQkFBMEI7SUFDMUIsNEJBQTRCO0lBQzVCLGtCQUFrQjtBQUN0QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJib2R5IHtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG5jYW52YXMge1xcbiAgICBpbWFnZS1yZW5kZXJpbmc6IC1tb3otY3Jpc3AtZWRnZXM7XFxuICAgIGltYWdlLXJlbmRlcmluZzogLXdlYmtpdC1jcmlzcC1lZGdlcztcXG4gICAgaW1hZ2UtcmVuZGVyaW5nOiBwaXhlbGF0ZWQ7XFxuICAgIGltYWdlLXJlbmRlcmluZzogY3Jpc3AtZWRnZXM7XFxuICAgIHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwidmFyIHRva2VuPS9kezEsNH18RHszLDR9fG17MSw0fXx5eSg/Onl5KT98KFtIaE1zVHRdKVxcMT98V3sxLDJ9fFtMbG9wU1pOXXxcIlteXCJdKlwifCdbXiddKicvZzt2YXIgdGltZXpvbmU9L1xcYig/OltBLVpdezEsM31bQS1aXVtUQ10pKD86Wy0rXVxcZHs0fSk/fCgoPzpBdXN0cmFsaWFuICk/KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWUpXFxiL2c7dmFyIHRpbWV6b25lQ2xpcD0vW14tK1xcZEEtWl0vZztleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkYXRlRm9ybWF0KGRhdGUsbWFzayx1dGMsZ210KXtpZihhcmd1bWVudHMubGVuZ3RoPT09MSYmdHlwZW9mIGRhdGU9PT1cInN0cmluZ1wiJiYhL1xcZC8udGVzdChkYXRlKSl7bWFzaz1kYXRlO2RhdGU9dW5kZWZpbmVkfWRhdGU9ZGF0ZXx8ZGF0ZT09PTA/ZGF0ZTpuZXcgRGF0ZTtpZighKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSl7ZGF0ZT1uZXcgRGF0ZShkYXRlKX1pZihpc05hTihkYXRlKSl7dGhyb3cgVHlwZUVycm9yKFwiSW52YWxpZCBkYXRlXCIpfW1hc2s9U3RyaW5nKG1hc2tzW21hc2tdfHxtYXNrfHxtYXNrc1tcImRlZmF1bHRcIl0pO3ZhciBtYXNrU2xpY2U9bWFzay5zbGljZSgwLDQpO2lmKG1hc2tTbGljZT09PVwiVVRDOlwifHxtYXNrU2xpY2U9PT1cIkdNVDpcIil7bWFzaz1tYXNrLnNsaWNlKDQpO3V0Yz10cnVlO2lmKG1hc2tTbGljZT09PVwiR01UOlwiKXtnbXQ9dHJ1ZX19dmFyIF89ZnVuY3Rpb24gXygpe3JldHVybiB1dGM/XCJnZXRVVENcIjpcImdldFwifTt2YXIgX2Q9ZnVuY3Rpb24gZCgpe3JldHVybiBkYXRlW18oKStcIkRhdGVcIl0oKX07dmFyIEQ9ZnVuY3Rpb24gRCgpe3JldHVybiBkYXRlW18oKStcIkRheVwiXSgpfTt2YXIgX209ZnVuY3Rpb24gbSgpe3JldHVybiBkYXRlW18oKStcIk1vbnRoXCJdKCl9O3ZhciB5PWZ1bmN0aW9uIHkoKXtyZXR1cm4gZGF0ZVtfKCkrXCJGdWxsWWVhclwiXSgpfTt2YXIgX0g9ZnVuY3Rpb24gSCgpe3JldHVybiBkYXRlW18oKStcIkhvdXJzXCJdKCl9O3ZhciBfTT1mdW5jdGlvbiBNKCl7cmV0dXJuIGRhdGVbXygpK1wiTWludXRlc1wiXSgpfTt2YXIgX3M9ZnVuY3Rpb24gcygpe3JldHVybiBkYXRlW18oKStcIlNlY29uZHNcIl0oKX07dmFyIF9MPWZ1bmN0aW9uIEwoKXtyZXR1cm4gZGF0ZVtfKCkrXCJNaWxsaXNlY29uZHNcIl0oKX07dmFyIF9vPWZ1bmN0aW9uIG8oKXtyZXR1cm4gdXRjPzA6ZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpfTt2YXIgX1c9ZnVuY3Rpb24gVygpe3JldHVybiBnZXRXZWVrKGRhdGUpfTt2YXIgX049ZnVuY3Rpb24gTigpe3JldHVybiBnZXREYXlPZldlZWsoZGF0ZSl9O3ZhciBmbGFncz17ZDpmdW5jdGlvbiBkKCl7cmV0dXJuIF9kKCl9LGRkOmZ1bmN0aW9uIGRkKCl7cmV0dXJuIHBhZChfZCgpKX0sZGRkOmZ1bmN0aW9uIGRkZCgpe3JldHVybiBpMThuLmRheU5hbWVzW0QoKV19LERERDpmdW5jdGlvbiBEREQoKXtyZXR1cm4gZ2V0RGF5TmFtZSh7eTp5KCksbTpfbSgpLGQ6X2QoKSxfOl8oKSxkYXlOYW1lOmkxOG4uZGF5TmFtZXNbRCgpXSxzaG9ydDp0cnVlfSl9LGRkZGQ6ZnVuY3Rpb24gZGRkZCgpe3JldHVybiBpMThuLmRheU5hbWVzW0QoKSs3XX0sRERERDpmdW5jdGlvbiBEREREKCl7cmV0dXJuIGdldERheU5hbWUoe3k6eSgpLG06X20oKSxkOl9kKCksXzpfKCksZGF5TmFtZTppMThuLmRheU5hbWVzW0QoKSs3XX0pfSxtOmZ1bmN0aW9uIG0oKXtyZXR1cm4gX20oKSsxfSxtbTpmdW5jdGlvbiBtbSgpe3JldHVybiBwYWQoX20oKSsxKX0sbW1tOmZ1bmN0aW9uIG1tbSgpe3JldHVybiBpMThuLm1vbnRoTmFtZXNbX20oKV19LG1tbW06ZnVuY3Rpb24gbW1tbSgpe3JldHVybiBpMThuLm1vbnRoTmFtZXNbX20oKSsxMl19LHl5OmZ1bmN0aW9uIHl5KCl7cmV0dXJuIFN0cmluZyh5KCkpLnNsaWNlKDIpfSx5eXl5OmZ1bmN0aW9uIHl5eXkoKXtyZXR1cm4gcGFkKHkoKSw0KX0saDpmdW5jdGlvbiBoKCl7cmV0dXJuIF9IKCklMTJ8fDEyfSxoaDpmdW5jdGlvbiBoaCgpe3JldHVybiBwYWQoX0goKSUxMnx8MTIpfSxIOmZ1bmN0aW9uIEgoKXtyZXR1cm4gX0goKX0sSEg6ZnVuY3Rpb24gSEgoKXtyZXR1cm4gcGFkKF9IKCkpfSxNOmZ1bmN0aW9uIE0oKXtyZXR1cm4gX00oKX0sTU06ZnVuY3Rpb24gTU0oKXtyZXR1cm4gcGFkKF9NKCkpfSxzOmZ1bmN0aW9uIHMoKXtyZXR1cm4gX3MoKX0sc3M6ZnVuY3Rpb24gc3MoKXtyZXR1cm4gcGFkKF9zKCkpfSxsOmZ1bmN0aW9uIGwoKXtyZXR1cm4gcGFkKF9MKCksMyl9LEw6ZnVuY3Rpb24gTCgpe3JldHVybiBwYWQoTWF0aC5mbG9vcihfTCgpLzEwKSl9LHQ6ZnVuY3Rpb24gdCgpe3JldHVybiBfSCgpPDEyP2kxOG4udGltZU5hbWVzWzBdOmkxOG4udGltZU5hbWVzWzFdfSx0dDpmdW5jdGlvbiB0dCgpe3JldHVybiBfSCgpPDEyP2kxOG4udGltZU5hbWVzWzJdOmkxOG4udGltZU5hbWVzWzNdfSxUOmZ1bmN0aW9uIFQoKXtyZXR1cm4gX0goKTwxMj9pMThuLnRpbWVOYW1lc1s0XTppMThuLnRpbWVOYW1lc1s1XX0sVFQ6ZnVuY3Rpb24gVFQoKXtyZXR1cm4gX0goKTwxMj9pMThuLnRpbWVOYW1lc1s2XTppMThuLnRpbWVOYW1lc1s3XX0sWjpmdW5jdGlvbiBaKCl7cmV0dXJuIGdtdD9cIkdNVFwiOnV0Yz9cIlVUQ1wiOmZvcm1hdFRpbWV6b25lKGRhdGUpfSxvOmZ1bmN0aW9uIG8oKXtyZXR1cm4oX28oKT4wP1wiLVwiOlwiK1wiKStwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhfbygpKS82MCkqMTAwK01hdGguYWJzKF9vKCkpJTYwLDQpfSxwOmZ1bmN0aW9uIHAoKXtyZXR1cm4oX28oKT4wP1wiLVwiOlwiK1wiKStwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhfbygpKS82MCksMikrXCI6XCIrcGFkKE1hdGguZmxvb3IoTWF0aC5hYnMoX28oKSklNjApLDIpfSxTOmZ1bmN0aW9uIFMoKXtyZXR1cm5bXCJ0aFwiLFwic3RcIixcIm5kXCIsXCJyZFwiXVtfZCgpJTEwPjM/MDooX2QoKSUxMDAtX2QoKSUxMCE9MTApKl9kKCklMTBdfSxXOmZ1bmN0aW9uIFcoKXtyZXR1cm4gX1coKX0sV1c6ZnVuY3Rpb24gV1coKXtyZXR1cm4gcGFkKF9XKCkpfSxOOmZ1bmN0aW9uIE4oKXtyZXR1cm4gX04oKX19O3JldHVybiBtYXNrLnJlcGxhY2UodG9rZW4sZnVuY3Rpb24obWF0Y2gpe2lmKG1hdGNoIGluIGZsYWdzKXtyZXR1cm4gZmxhZ3NbbWF0Y2hdKCl9cmV0dXJuIG1hdGNoLnNsaWNlKDEsbWF0Y2gubGVuZ3RoLTEpfSl9ZXhwb3J0IHZhciBtYXNrcz17ZGVmYXVsdDpcImRkZCBtbW0gZGQgeXl5eSBISDpNTTpzc1wiLHNob3J0RGF0ZTpcIm0vZC95eVwiLHBhZGRlZFNob3J0RGF0ZTpcIm1tL2RkL3l5eXlcIixtZWRpdW1EYXRlOlwibW1tIGQsIHl5eXlcIixsb25nRGF0ZTpcIm1tbW0gZCwgeXl5eVwiLGZ1bGxEYXRlOlwiZGRkZCwgbW1tbSBkLCB5eXl5XCIsc2hvcnRUaW1lOlwiaDpNTSBUVFwiLG1lZGl1bVRpbWU6XCJoOk1NOnNzIFRUXCIsbG9uZ1RpbWU6XCJoOk1NOnNzIFRUIFpcIixpc29EYXRlOlwieXl5eS1tbS1kZFwiLGlzb1RpbWU6XCJISDpNTTpzc1wiLGlzb0RhdGVUaW1lOlwieXl5eS1tbS1kZCdUJ0hIOk1NOnNzb1wiLGlzb1V0Y0RhdGVUaW1lOlwiVVRDOnl5eXktbW0tZGQnVCdISDpNTTpzcydaJ1wiLGV4cGlyZXNIZWFkZXJGb3JtYXQ6XCJkZGQsIGRkIG1tbSB5eXl5IEhIOk1NOnNzIFpcIn07ZXhwb3J0IHZhciBpMThuPXtkYXlOYW1lczpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIixcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLG1vbnRoTmFtZXM6W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiLFwiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLHRpbWVOYW1lczpbXCJhXCIsXCJwXCIsXCJhbVwiLFwicG1cIixcIkFcIixcIlBcIixcIkFNXCIsXCJQTVwiXX07dmFyIHBhZD1mdW5jdGlvbiBwYWQodmFsKXt2YXIgbGVuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToyO3JldHVybiBTdHJpbmcodmFsKS5wYWRTdGFydChsZW4sXCIwXCIpfTt2YXIgZ2V0RGF5TmFtZT1mdW5jdGlvbiBnZXREYXlOYW1lKF9yZWYpe3ZhciB5PV9yZWYueSxtPV9yZWYubSxkPV9yZWYuZCxfPV9yZWYuXyxkYXlOYW1lPV9yZWYuZGF5TmFtZSxfcmVmJHNob3J0PV9yZWZbXCJzaG9ydFwiXSxfc2hvcnQ9X3JlZiRzaG9ydD09PXZvaWQgMD9mYWxzZTpfcmVmJHNob3J0O3ZhciB0b2RheT1uZXcgRGF0ZTt2YXIgeWVzdGVyZGF5PW5ldyBEYXRlO3llc3RlcmRheS5zZXREYXRlKHllc3RlcmRheVtfK1wiRGF0ZVwiXSgpLTEpO3ZhciB0b21vcnJvdz1uZXcgRGF0ZTt0b21vcnJvdy5zZXREYXRlKHRvbW9ycm93W18rXCJEYXRlXCJdKCkrMSk7dmFyIHRvZGF5X2Q9ZnVuY3Rpb24gdG9kYXlfZCgpe3JldHVybiB0b2RheVtfK1wiRGF0ZVwiXSgpfTt2YXIgdG9kYXlfbT1mdW5jdGlvbiB0b2RheV9tKCl7cmV0dXJuIHRvZGF5W18rXCJNb250aFwiXSgpfTt2YXIgdG9kYXlfeT1mdW5jdGlvbiB0b2RheV95KCl7cmV0dXJuIHRvZGF5W18rXCJGdWxsWWVhclwiXSgpfTt2YXIgeWVzdGVyZGF5X2Q9ZnVuY3Rpb24geWVzdGVyZGF5X2QoKXtyZXR1cm4geWVzdGVyZGF5W18rXCJEYXRlXCJdKCl9O3ZhciB5ZXN0ZXJkYXlfbT1mdW5jdGlvbiB5ZXN0ZXJkYXlfbSgpe3JldHVybiB5ZXN0ZXJkYXlbXytcIk1vbnRoXCJdKCl9O3ZhciB5ZXN0ZXJkYXlfeT1mdW5jdGlvbiB5ZXN0ZXJkYXlfeSgpe3JldHVybiB5ZXN0ZXJkYXlbXytcIkZ1bGxZZWFyXCJdKCl9O3ZhciB0b21vcnJvd19kPWZ1bmN0aW9uIHRvbW9ycm93X2QoKXtyZXR1cm4gdG9tb3Jyb3dbXytcIkRhdGVcIl0oKX07dmFyIHRvbW9ycm93X209ZnVuY3Rpb24gdG9tb3Jyb3dfbSgpe3JldHVybiB0b21vcnJvd1tfK1wiTW9udGhcIl0oKX07dmFyIHRvbW9ycm93X3k9ZnVuY3Rpb24gdG9tb3Jyb3dfeSgpe3JldHVybiB0b21vcnJvd1tfK1wiRnVsbFllYXJcIl0oKX07aWYodG9kYXlfeSgpPT09eSYmdG9kYXlfbSgpPT09bSYmdG9kYXlfZCgpPT09ZCl7cmV0dXJuIF9zaG9ydD9cIlRkeVwiOlwiVG9kYXlcIn1lbHNlIGlmKHllc3RlcmRheV95KCk9PT15JiZ5ZXN0ZXJkYXlfbSgpPT09bSYmeWVzdGVyZGF5X2QoKT09PWQpe3JldHVybiBfc2hvcnQ/XCJZc2RcIjpcIlllc3RlcmRheVwifWVsc2UgaWYodG9tb3Jyb3dfeSgpPT09eSYmdG9tb3Jyb3dfbSgpPT09bSYmdG9tb3Jyb3dfZCgpPT09ZCl7cmV0dXJuIF9zaG9ydD9cIlRtd1wiOlwiVG9tb3Jyb3dcIn1yZXR1cm4gZGF5TmFtZX07dmFyIGdldFdlZWs9ZnVuY3Rpb24gZ2V0V2VlayhkYXRlKXt2YXIgdGFyZ2V0VGh1cnNkYXk9bmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLGRhdGUuZ2V0TW9udGgoKSxkYXRlLmdldERhdGUoKSk7dGFyZ2V0VGh1cnNkYXkuc2V0RGF0ZSh0YXJnZXRUaHVyc2RheS5nZXREYXRlKCktKHRhcmdldFRodXJzZGF5LmdldERheSgpKzYpJTcrMyk7dmFyIGZpcnN0VGh1cnNkYXk9bmV3IERhdGUodGFyZ2V0VGh1cnNkYXkuZ2V0RnVsbFllYXIoKSwwLDQpO2ZpcnN0VGh1cnNkYXkuc2V0RGF0ZShmaXJzdFRodXJzZGF5LmdldERhdGUoKS0oZmlyc3RUaHVyc2RheS5nZXREYXkoKSs2KSU3KzMpO3ZhciBkcz10YXJnZXRUaHVyc2RheS5nZXRUaW1lem9uZU9mZnNldCgpLWZpcnN0VGh1cnNkYXkuZ2V0VGltZXpvbmVPZmZzZXQoKTt0YXJnZXRUaHVyc2RheS5zZXRIb3Vycyh0YXJnZXRUaHVyc2RheS5nZXRIb3VycygpLWRzKTt2YXIgd2Vla0RpZmY9KHRhcmdldFRodXJzZGF5LWZpcnN0VGh1cnNkYXkpLyg4NjRlNSo3KTtyZXR1cm4gMStNYXRoLmZsb29yKHdlZWtEaWZmKX07dmFyIGdldERheU9mV2Vlaz1mdW5jdGlvbiBnZXREYXlPZldlZWsoZGF0ZSl7dmFyIGRvdz1kYXRlLmdldERheSgpO2lmKGRvdz09PTApe2Rvdz03fXJldHVybiBkb3d9O2V4cG9ydCB2YXIgZm9ybWF0VGltZXpvbmU9ZnVuY3Rpb24gZm9ybWF0VGltZXpvbmUoZGF0ZSl7cmV0dXJuKFN0cmluZyhkYXRlKS5tYXRjaCh0aW1lem9uZSl8fFtcIlwiXSkucG9wKCkucmVwbGFjZSh0aW1lem9uZUNsaXAsXCJcIikucmVwbGFjZSgvR01UXFwrMDAwMC9nLFwiVVRDXCIpfTsiLCJpbXBvcnQgZGF0ZUZvcm1hdCBmcm9tICdkYXRlZm9ybWF0JztcblxuY29uc3QgTE9HX1RJTUVfRk9STUFUID0gJ3l5eXkvbW0vZGQgSEg6TU06c3MubCc7XG5cbi8vIFdyaXRlcyB0aGUgZ2l2ZW4gdGV4dCB0byB0aGUgY29uc29sZSwgd2l0aCAnSlM6ICcgcHJlcGVuZGVkICh0byBkaXN0aW5ndWlzaFxuLy8gZnJvbSBsb2dzIGluIHRoZSBXQVNNIG1vZHVsZSlcbmV4cG9ydCBmdW5jdGlvbiBjb25zb2xlTG9nKHMpIHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKCcoJyArIGRhdGVGb3JtYXQobm93LCBMT0dfVElNRV9GT1JNQVQpICsgJykgSlM6ICcgKyBzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lT2JqKG8pIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvKSk7XG59XG5cbmNvbnN0IHRpbWVvdXRJZEZvckZ1bmMgPSBuZXcgTWFwPFRpbWVySGFuZGxlciwgbnVtYmVyPigpO1xuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBvbmx5IGNhbGxzIGZ1bmMgaWYgdGhlcmUgaGF2ZVxuLy8gYmVlbiBubyBjYWxscyB0byB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gaW4gZGVsYXkgbWlsbGlzZWNvbmRzLlxuLy8gVXNlZnVsIGZvciBwcmV2ZW50aW5nIGV4Y2Vzc2l2ZSBjYWxscyBmcm9tIGV2ZW50IGhhbmRsZXJzIChlLmcuIG5vdCBkcmF3aW5nIG9uIGV2ZXJ5IHJlc2l6ZSBldmVudClcbmV4cG9ydCBmdW5jdGlvbiBsaW1pdGVyKGZ1bmM6IFRpbWVySGFuZGxlciwgZGVsYXk6IG51bWJlcikge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gdGltZW91dElkRm9yRnVuYy5nZXQoZnVuYyk7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lb3V0SWRGb3JGdW5jLnNldChmdW5jLCBzZXRUaW1lb3V0KGZ1bmMsIGRlbGF5KSk7XG4gICAgfTtcbn0iLCJpbXBvcnQge1JlY3R9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCB7Y29uc29sZUxvZ30gZnJvbSAnLi91dGlsJztcblxuLy8gQ29uc3RhbnQgZm9yIHRoZSBzaXplIG9mIGEgdGlsZSBpbiB0aGUgc3ByaXRlc2hlZXRcbmV4cG9ydCBjb25zdCBUSUxFX1NJWkUgPSAxMDtcblxuLy8gQ29uc3RhbnQgZm9yIHRoZSBoZWlnaHQgb2YgYSByb3cgaW4gdGhlIHNwcml0ZXNoZWV0XG5leHBvcnQgY29uc3QgUk9XX0hFSUdIVCA9IFRJTEVfU0laRTtcblxuZXhwb3J0IGNvbnN0IFNQUklURVMgPSB7XG4gICAgVElMRVM6IHtcbiAgICAgICAgRU1QVFk6IHt4OiAwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgMToge3g6IDEwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgMjoge3g6IDIwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgMzoge3g6IDMwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgNDoge3g6IDQwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgNToge3g6IDUwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgNjoge3g6IDYwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgNzoge3g6IDcwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgODoge3g6IDgwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgTUlORToge3g6IDkwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgSElEREVOOiB7eDogMTAwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdCxcbiAgICAgICAgRkxBRzoge3g6IDExMCwgeTogMCwgdzogVElMRV9TSVpFLCBoOiBUSUxFX1NJWkV9IGFzIFJlY3QsXG4gICAgICAgIENMT1NFOiB7eDogMTIwLCB5OiAwLCB3OiBUSUxFX1NJWkUsIGg6IFRJTEVfU0laRX0gYXMgUmVjdFxuICAgIH0sXG5cbiAgICBNT0RBTDoge1xuICAgICAgICBCQUNLOiB7eDogMCwgeTogODAsIHc6IDI0LCBoOiBST1dfSEVJR0hUfSBhcyBSZWN0LFxuICAgICAgICBCQUNLX0hPVkVSRUQ6IHt4OiAyNCwgeTogODAsIHc6IDI0LCBoOiBST1dfSEVJR0hUfSBhcyBSZWN0XG4gICAgfSxcblxuICAgIE1BSU5fTUVOVToge1xuICAgICAgICBUSVRMRToge3g6IDAsIHk6IDEwLCB3OiA5NSwgaDogUk9XX0hFSUdIVH0gYXMgUmVjdCxcbiAgICAgICAgRUFTWToge3g6IDAsIHk6IDIwLCB3OiAyNiwgaDogUk9XX0hFSUdIVH0gYXMgUmVjdCxcbiAgICAgICAgRUFTWV9IT1ZFUkVEOiB7eDogMjYsIHk6IDIwLCB3OiAyNiwgaDogUk9XX0hFSUdIVH0gYXMgUmVjdCxcbiAgICAgICAgTUVESVVNOiB7eDogMCwgeTogMzAsIHc6IDM1LCBoOiBST1dfSEVJR0hUfSBhcyBSZWN0LFxuICAgICAgICBNRURJVU1fSE9WRVJFRDoge3g6IDM1LCB5OiAzMCwgdzogMzAsIGg6IFJPV19IRUlHSFR9IGFzIFJlY3QsXG4gICAgICAgIEhBUkQ6IHt4OiAwLCB5OiA0MCwgdzogMjUsIGg6IFJPV19IRUlHSFR9IGFzIFJlY3QsXG4gICAgICAgIEhBUkRfSE9WRVJFRDoge3g6IDI1LCB5OiA0MCwgdzogMjYsIGg6IFJPV19IRUlHSFR9IGFzIFJlY3QsXG4gICAgICAgIENVU1RPTToge3g6IDAsIHk6IDUwLCB3OiAzOCwgaDogUk9XX0hFSUdIVH0gYXMgUmVjdCxcbiAgICAgICAgQ1VTVE9NX0hPVkVSRUQ6IHt4OiAzOCwgeTogNTAsIHc6IDI2LCBoOiBST1dfSEVJR0hUfSBhcyBSZWN0XG4gICAgfSxcblxuICAgIFJFVFJZX01PREFMOiB7XG4gICAgICAgIFRJVExFOiB7eDogMCwgeTogNjAsIHc6IDQ1LCBoOiBST1dfSEVJR0hUfSBhcyBSZWN0LFxuICAgICAgICBSRVRSWToge3g6IDAsIHk6IDcwLCB3OiAzMCwgaDogUk9XX0hFSUdIVH0gYXMgUmVjdCxcbiAgICAgICAgUkVUUllfSE9WRVJFRDoge3g6IDMwLCB5OiA3MCwgdzogMzAsIGg6IFJPV19IRUlHSFR9IGFzIFJlY3QsXG4gICAgfSxcblxuICAgIFNVQ0NFU1NfTU9EQUw6IHtcbiAgICAgICAgVElUTEU6IHt4OiAwLCB5OiA5MCwgdzogNTIsIGg6IFJPV19IRUlHSFR9IGFzIFJlY3QsXG4gICAgICAgIFJFU0VUOiB7eDogMCwgeTogMTAwLCB3OiA1MywgaDogUk9XX0hFSUdIVH0gYXMgUmVjdCxcbiAgICAgICAgUkVTRVRfSE9WRVJFRDoge3g6IDUzLCB5OiAxMDAsIHc6IDUzLCBoOiBST1dfSEVJR0hUfSBhcyBSZWN0LFxuICAgIH1cbn07XG5cbi8vIFRoZSBjYW52YXNcbmV4cG9ydCBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cbi8vIFRoZSBncmFwaGljYWwgY29udGV4dCB0byBkcmF3IHRvXG5leHBvcnQgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbmNvbnN0IHNwcml0ZXNoZWV0ID0gbmV3IEltYWdlKCk7XG5cbmNvbnN0IHNwcml0ZXNoZWV0TG9hZGVkID0gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgc3ByaXRlc2hlZXQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgY29uc29sZUxvZygnRmluaXNoZWQgbG9hZGluZyBzcHJpdGVzaGVldCcpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG59KTtcblxuc3ByaXRlc2hlZXQuc3JjID0gbmV3IFVSTCgnLi4vYXNzZXRzL3Nwcml0ZXNoZWV0LnBuZycsIGltcG9ydC5tZXRhLnVybCkudG9TdHJpbmcoKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyKHJlY3Q/OiBSZWN0KSB7XG4gICAgaWYgKCFyZWN0KSB7XG4gICAgICAgIHJlY3QgPSB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHc6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIGg6IGNhbnZhcy5oZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY3R4LmNsZWFyUmVjdChyZWN0LngsIHJlY3QueSwgcmVjdC53LCByZWN0LmgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHJhd1Nwcml0ZShzcHJpdGU6IFJlY3QsIGRyYXdSZWN0OiBSZWN0KSB7XG4gICAgYXdhaXQgc3ByaXRlc2hlZXRMb2FkZWQudGhlbigoKSA9PiB7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2Uoc3ByaXRlc2hlZXQsXG4gICAgICAgICAgICBzcHJpdGUueCwgc3ByaXRlLnksIHNwcml0ZS53LCBzcHJpdGUuaCxcbiAgICAgICAgICAgIGRyYXdSZWN0LngsIGRyYXdSZWN0LnksIGRyYXdSZWN0LncsIGRyYXdSZWN0LmgpO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IHR5cGUgRXZlbnRMaXN0ZW5lcjxFdmVudE1hcFQ+ID0gKGV2ZW50OiBFdmVudE1hcFRba2V5b2YgRXZlbnRNYXBUXSkgPT4gdm9pZFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudE1hbmFnZXI8RXZlbnRNYXBUPiB7XG4gICAgcHJpdmF0ZSBldmVudExpc3RlbmVyczogTWFwPGtleW9mIEV2ZW50TWFwVCwgQXJyYXk8RXZlbnRMaXN0ZW5lcjxFdmVudE1hcFQ+Pj47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lcjxLIGV4dGVuZHMga2V5b2YgRXZlbnRNYXBUPih0eXBlOiBLLCBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudE1hcFRbS10pID0+IHZvaWQpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzRm9yRXZlbnQgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldCh0eXBlKSA/PyBbXTtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQodHlwZSwgWy4uLmxpc3RlbmVyc0ZvckV2ZW50LCBsaXN0ZW5lcl0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyPEsgZXh0ZW5kcyBrZXlvZiBFdmVudE1hcFQ+KHR5cGU6IEssIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50TWFwVFtLXSkgPT4gdm9pZCkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnNGb3JFdmVudCA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KHR5cGUpID8/IFtdO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldCh0eXBlLFxuICAgICAgICAgICAgbGlzdGVuZXJzRm9yRXZlbnQuZmlsdGVyKGxpc3RlbmVyRm9yRXZlbnQgPT4gbGlzdGVuZXJGb3JFdmVudCA9PT0gbGlzdGVuZXIpKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY2FsbEV2ZW50TGlzdGVuZXJzPEsgZXh0ZW5kcyBrZXlvZiBFdmVudE1hcFQ+KHR5cGU6IEssIGV2ZW50OiBFdmVudE1hcFRbS10pIHtcbiAgICAgICAgKHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KHR5cGUpID8/IFtdKS5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGV2ZW50KSk7XG4gICAgfVxufSIsImltcG9ydCB7Y2FudmFzLCBkcmF3U3ByaXRlfSBmcm9tICcuL2RyYXcnO1xuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tICcuL2V2ZW50LW1hbmFnZXInO1xuXG5pbXBvcnQge1BvcywgUmVjdH0gZnJvbSAnLi9jb21tb24nO1xuaW1wb3J0IHtjbG9uZU9ian0gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IHR5cGUgSGl0Ym94ID0gUmVjdFxuXG5leHBvcnQgdHlwZSBFbGVtZW50ID0ge1xuICAgIGlkOiBzdHJpbmdcbiAgICBzcHJpdGU6IFJlY3QsXG4gICAgaG92ZXJlZFNwcml0ZT86IFBvcyxcbiAgICBzY2FsZTogbnVtYmVyLFxuICAgIGludGVyYWN0YWJsZT86IGJvb2xlYW5cbn1cblxuY29uc3QgYmlnZ2VzdEVsZW1lbnRCeUZpZWxkID0gKGVsZW1lbnRzOiBBcnJheTxFbGVtZW50PiwgZmllbGQ6IHN0cmluZykgPT5cbiAgICBlbGVtZW50cy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+XG4gICAgICAgIHByZXYuc3ByaXRlW2ZpZWxkXSAqIHByZXYuc2NhbGUgPiBjdXJyLnNwcml0ZVtmaWVsZF0gKiBjdXJyLnNjYWxlID8gcHJldiA6IGN1cnIpO1xuXG5mdW5jdGlvbiBnZXRBYnNQb3MoeCwgeTogbnVtYmVyKSB7XG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gW01hdGgucm91bmQoeCAtIHJlY3QubGVmdCksIE1hdGgucm91bmQoeSAtIHJlY3QudG9wKV07XG59XG5cbmZ1bmN0aW9uIGludGVyc2VjdCh4LCB5OiBudW1iZXIsIGhpdGJveDogSGl0Ym94KSB7XG4gICAgcmV0dXJuIHggPiBoaXRib3gueCAmJiB5ID4gaGl0Ym94LnkgJiZcbiAgICAgICAgeCA8IGhpdGJveC54ICsgaGl0Ym94LncgJiYgeSA8IGhpdGJveC55ICsgaGl0Ym94Lmg7XG59XG5cbmV4cG9ydCB0eXBlIEVsZW1lbnRQcmVzc0V2ZW50ID0ge1xuICAgIHByZXNzZWRFbGVtZW50OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgRWxlbWVudEhvdmVyZWRFdmVudCA9IHtcbiAgICBob3ZlcmVkRWxlbWVudDogc3RyaW5nIHwgbnVsbFxufVxuXG5pbnRlcmZhY2UgTWVudUV2ZW50TWFwIHtcbiAgICAncHJlc3MnOiBFbGVtZW50UHJlc3NFdmVudFxuICAgICdob3Zlcic6IEVsZW1lbnRIb3ZlcmVkRXZlbnRcbn1cblxuLy8gQ2xhc3MgZm9yIGEgdmVyeSBzaW1wbGUgbWVudSwgd2hlcmUgZWFjaCBcImVsZW1lbnRcIiBpcyBkcmF3biB0b3AgZG93biwgZXF1YWxseSBzcGFjZWRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnUgZXh0ZW5kcyBFdmVudE1hbmFnZXI8TWVudUV2ZW50TWFwPiB7XG4gICAgcHJpdmF0ZSBlbGVtZW50czogQXJyYXk8RWxlbWVudD47XG4gICAgcHJpdmF0ZSB0YWxsZXN0RWxlbWVudDogRWxlbWVudDtcbiAgICBwcml2YXRlIGxvbmdlc3RFbGVtZW50OiBFbGVtZW50O1xuXG4gICAgcHJvdGVjdGVkIGVsZW1lbnRIaXRib3hlczogTWFwPHN0cmluZywgSGl0Ym94PjtcbiAgICBwcm90ZWN0ZWQgaG92ZXJlZEVsZW1lbnQ6IHN0cmluZyB8IG51bGw7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGhhbmRsZVBvaW50ZXJNb3ZlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlUG9pbnRlckRvd247XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50czogQXJyYXk8RWxlbWVudD4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgICAgICB0aGlzLnRhbGxlc3RFbGVtZW50ID0gYmlnZ2VzdEVsZW1lbnRCeUZpZWxkKGVsZW1lbnRzLCAnaCcpO1xuICAgICAgICB0aGlzLmxvbmdlc3RFbGVtZW50ID0gYmlnZ2VzdEVsZW1lbnRCeUZpZWxkKGVsZW1lbnRzLCAndycpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudEhpdGJveGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmhvdmVyZWRFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgWCBhbmQgWSBvZiB0aGUgYnV0dG9uIHByZXNzXG4gICAgICAgICAgICBjb25zdCBbeCwgeV0gPSBnZXRBYnNQb3MoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIG1lbnUgZWxlbWVudHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VsZW1lbnQsIGhpdGJveF0gb2YgdGhpcy5lbGVtZW50SGl0Ym94ZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBvaW50ZXIgaW50ZXJzZWN0ZWQgdGhlIG1lbnUgaXRlbVxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3QoeCwgeSwgaGl0Ym94KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG5ld2x5IGhvdmVyZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJlZEVsZW1lbnQgIT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmVkRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudExpc3RlbmVycygnaG92ZXInLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXJlZEVsZW1lbnQ6IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhbiBlbGVtZW50IGlzIGJlaW5nIGhvdmVyZWQgb3ZlciAoYnV0IG5vdCBhbnltb3JlKVxuICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJlZEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgaG92ZXJlZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmVkRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRMaXN0ZW5lcnMoJ2hvdmVyJywge1xuICAgICAgICAgICAgICAgICAgICBob3ZlcmVkRWxlbWVudDogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlckRvd24gPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBYIGFuZCBZIG9mIHRoZSBidXR0b24gcHJlc3NcbiAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGdldEFic1BvcyhldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgbWVudSBlbGVtZW50c1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZWxlbWVudCwgaGl0Ym94XSBvZiB0aGlzLmVsZW1lbnRIaXRib3hlcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcG9pbnRlciBpbnRlcnNlY3RlZCB0aGUgbWVudSBpdGVtXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdCh4LCB5LCBoaXRib3gpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50TGlzdGVuZXJzKCdwcmVzcycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXNzZWRFbGVtZW50OiBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudHMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBkcmF3KGJvdW5kcz86IFJlY3QpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSWYgdGhlIGJvdW5kcyB3ZXJlbid0IGdpdmVuXG4gICAgICAgIGlmICghYm91bmRzKSB7XG4gICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhlIGJvdW5kcyBhcmUgdGhlIHdob2xlIGNhbnZhc1xuICAgICAgICAgICAgYm91bmRzID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICB3OiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgICAgICAgaDogY2FudmFzLmhlaWdodCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJzdCwgc2NhbGUgc28gdGhlIGVsZW1lbnRzIGFyZSBldmVubHkgc3BhY2VkIGJ5IGhlaWdodFxuICAgICAgICBsZXQgc2NhbGUgPSAoYm91bmRzLmggKiAoMC41IC8gdGhpcy5lbGVtZW50cy5sZW5ndGgpKSAvXG4gICAgICAgICAgICAodGhpcy50YWxsZXN0RWxlbWVudC5zcHJpdGUuaCAqIHRoaXMudGFsbGVzdEVsZW1lbnQuc2NhbGUpO1xuXG4gICAgICAgIC8vIElmIHRoZSBsb25nZXN0IGVsZW1lbnQgd291bGQgYmUgdG9vIGxvbmdcbiAgICAgICAgaWYgKHNjYWxlICogdGhpcy5sb25nZXN0RWxlbWVudC5zcHJpdGUudyAqIHRoaXMubG9uZ2VzdEVsZW1lbnQuc2NhbGUgPj0gYm91bmRzLncgKiAwLjkpIHtcbiAgICAgICAgICAgIC8vIFNjYWxlIHNvIHRoZSBsb25nZXN0IGVsZW1lbnQgaXMgOTAlIHRoZSB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBzY2FsZSA9IChib3VuZHMudyAqIDAuOSkgLyAodGhpcy5sb25nZXN0RWxlbWVudC5zcHJpdGUudyAqIHRoaXMubG9uZ2VzdEVsZW1lbnQuc2NhbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgbGV0IHkgPSBib3VuZHMueSArICh0aGlzLnRhbGxlc3RFbGVtZW50LnNwcml0ZS5oICogc2NhbGUgKiAwLjUpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbFdpZHRoID0gZWxlbWVudC5zcHJpdGUudyAqIGVsZW1lbnQuc2NhbGUgKiBzY2FsZTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxIZWlnaHQgPSBlbGVtZW50LnNwcml0ZS5oICogZWxlbWVudC5zY2FsZSAqIHNjYWxlO1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBlbGVtZW50J3MgaGl0Ym94XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0Ym94OiBIaXRib3ggPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50J3MgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgeDogYm91bmRzLnggKyAoKGJvdW5kcy53IC8gMikgLSAoYWN0dWFsV2lkdGggLyAyKSksIHk6IHksXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50J3Mgc2l6ZVxuICAgICAgICAgICAgICAgICAgICB3OiBhY3R1YWxXaWR0aCwgaDogYWN0dWFsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5pbnRlcmFjdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBlbGVtZW50J3MgaGl0Ym94IHRvIHRoZSBtYXBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50SGl0Ym94ZXMuc2V0KGVsZW1lbnQuaWQsIGhpdGJveCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gY2xvbmVPYmooZWxlbWVudC5zcHJpdGUpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgZWxlbWVudCBpcyBiZWluZyBob3ZlcmVkIG92ZXIgKGFuZCBoYXMgYSBzcHJpdGUpXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaWQgPT09IHRoaXMuaG92ZXJlZEVsZW1lbnQgJiYgJ2hvdmVyZWRTcHJpdGUnIGluIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UncmUgYXNzdW1pbmcgdGhlIGhvdmVyZWQgc3ByaXRlIGlzIHRoZSBzYW1lIHNpemUgaGVyZVxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUueCA9IGVsZW1lbnQuaG92ZXJlZFNwcml0ZS54O1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUueSA9IGVsZW1lbnQuaG92ZXJlZFNwcml0ZS55O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERyYXcgdGhlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKHNwcml0ZSwgaGl0Ym94KTtcblxuICAgICAgICAgICAgICAgIC8vIE1vdmUgdGhlIHkgZG93blxuICAgICAgICAgICAgICAgIHkgKz0gYWN0dWFsSGVpZ2h0ICogMS41O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5oYW5kbGVQb2ludGVyRG93bik7XG4gICAgfVxuXG4gICAgcHVibGljIGRlcmVnaXN0ZXJFdmVudHMoKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLmhhbmRsZVBvaW50ZXJEb3duKTtcbiAgICB9XG59IiwiZXhwb3J0IHR5cGUgUG9zID0ge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgU2l6ZSA9IHtcbiAgICB3OiBudW1iZXIsXG4gICAgaDogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIFJlY3QgPSBQb3MgJiBTaXplXG5cbmV4cG9ydCBjb25zdCBwb3MgPSAocjogUmVjdCk6IFBvcyA9PiAoe3g6IHIueCwgeTogci55fSk7XG5cbmV4cG9ydCBjb25zdCByZWN0ID0gKHA6IFBvcywgczogU2l6ZSk6IFJlY3QgPT4gKHt4OiBwLngsIHk6IHAueSwgdzogcy53LCBoOiBzLmh9KTsiLCJpbXBvcnQgTWVudSwge0VsZW1lbnR9IGZyb20gJy4vbWVudSc7XG5pbXBvcnQge1NQUklURVMsIGNsZWFyfSBmcm9tICcuL2RyYXcnO1xuXG5pbXBvcnQge2xpbWl0ZXJ9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQge3Bvc30gZnJvbSAnLi9jb21tb24nO1xuXG5jb25zdCBUSVRMRTogRWxlbWVudCA9IHtcbiAgICBpZDogJ21lbnUubWFpbi50aXRsZScsXG4gICAgc3ByaXRlOiBTUFJJVEVTLk1BSU5fTUVOVS5USVRMRSxcbiAgICBzY2FsZTogMSxcbn07XG5cbmV4cG9ydCBjb25zdCBFQVNZX0JVVFRPTjogRWxlbWVudCA9IHtcbiAgICBpZDogJ21lbnUubWFpbi5lYXN5X2J1dHRvbicsXG4gICAgc3ByaXRlOiBTUFJJVEVTLk1BSU5fTUVOVS5FQVNZLFxuICAgIGhvdmVyZWRTcHJpdGU6IHBvcyhTUFJJVEVTLk1BSU5fTUVOVS5FQVNZX0hPVkVSRUQpLFxuICAgIHNjYWxlOiAxLjI1LFxuICAgIGludGVyYWN0YWJsZTogdHJ1ZVxufTtcblxuZXhwb3J0IGNvbnN0IE1FRElVTV9CVVRUT046IEVsZW1lbnQgPSB7XG4gICAgaWQ6ICdtZW51Lm1haW4ubWVkaXVtX2J1dHRvbicsXG4gICAgc3ByaXRlOiBTUFJJVEVTLk1BSU5fTUVOVS5NRURJVU0sXG4gICAgaG92ZXJlZFNwcml0ZTogcG9zKFNQUklURVMuTUFJTl9NRU5VLk1FRElVTV9IT1ZFUkVEKSxcbiAgICBzY2FsZTogMS4yNSxcbiAgICBpbnRlcmFjdGFibGU6IHRydWVcbn07XG5cbmV4cG9ydCBjb25zdCBIQVJEX0JVVFRPTjogRWxlbWVudCA9IHtcbiAgICBpZDogJ21lbnUubWFpbi5oYXJkX2J1dHRvbicsXG4gICAgc3ByaXRlOiBTUFJJVEVTLk1BSU5fTUVOVS5IQVJELFxuICAgIGhvdmVyZWRTcHJpdGU6IHBvcyhTUFJJVEVTLk1BSU5fTUVOVS5IQVJEX0hPVkVSRUQpLFxuICAgIHNjYWxlOiAxLjI1LFxuICAgIGludGVyYWN0YWJsZTogdHJ1ZVxufTtcblxuLyogdG9kbyBpbXBsZW1lbnQgY3VzdG9tIGRpZmZpY3VsdHlcbmV4cG9ydCBjb25zdCBDVVNUT01fQlVUVE9OOiBFbGVtZW50ID0ge1xuICAgIGlkOiAnbWVudS5tYWluLmN1c3RvbV9idXR0b24nLFxuICAgIHNwcml0ZTogU1BSSVRFUy5NQUlOX01FTlUuQ1VTVE9NLFxuICAgIGhvdmVyZWRTcHJpdGU6IHBvcyhTUFJJVEVTLk1BSU5fTUVOVS5DVVNUT01fSE9WRVJFRCksXG4gICAgc2NhbGU6IDEuMjUsXG4gICAgaW50ZXJhY3RhYmxlOiBmYWxzZVxufTsqL1xuXG4vLyBUaGUgZWxlbWVudHMsIGluIG9yZGVyIG9mIGhvdyB0aGV5J3JlIGRpc3BsYXllZCBvbiBzY3JlZW4gKHRvcCBkb3duKVxuY29uc3QgRUxFTUVOVFM6IEFycmF5PEVsZW1lbnQ+ID0gW1RJVExFLCBFQVNZX0JVVFRPTiwgTUVESVVNX0JVVFRPTiwgSEFSRF9CVVRUT04vKiwgQ1VTVE9NX0JVVFRPTiovXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbk1lbnUgZXh0ZW5kcyBNZW51IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRyYXdXaXRoTGltaXQ6ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoRUxFTUVOVFMpO1xuICAgICAgICBzdXBlci5hZGRFdmVudExpc3RlbmVyKCdwcmVzcycsIHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcbiAgICAgICAgc3VwZXIuYWRkRXZlbnRMaXN0ZW5lcignaG92ZXInLCB0aGlzLmRyYXcuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gVGhlIGRyYXcgZnVuY3Rpb24gd2l0aCBhIGxpbWl0ZXIsIHRvIHByZXZlbnQgZmxpY2tlcmluZyB3aGVuIHJlc2l6aW5nXG4gICAgICAgIHRoaXMuZHJhd1dpdGhMaW1pdCA9IGxpbWl0ZXIodGhpcy5kcmF3LmJpbmQodGhpcyksIDEwMCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50cygpO1xuICAgIH1cblxuICAgIGFzeW5jIGRyYXcoKSB7XG4gICAgICAgIHJldHVybiBjbGVhcigpLnRoZW4oc3VwZXIuZHJhdy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICByZWdpc3RlckV2ZW50cygpIHtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJFdmVudHMoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZHJhd1dpdGhMaW1pdCk7XG4gICAgfVxuXG4gICAgZGVyZWdpc3RlckV2ZW50cygpIHtcbiAgICAgICAgc3VwZXIuZGVyZWdpc3RlckV2ZW50cygpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kcmF3V2l0aExpbWl0KTtcbiAgICB9XG59IiwiaW1wb3J0IHtQb3MsIFNpemV9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSAnLi9ldmVudC1tYW5hZ2VyJztcbmltcG9ydCB7Y2FudmFzfSBmcm9tICcuL2RyYXcnO1xuXG4vLyBDb25zdGFudCBmb3IgdGhlIGRyYXcgc2l6ZSBvZiBhIHRpbGVcbmV4cG9ydCBjb25zdCBUSUxFX0RSQVdfU0laRSA9IDMwO1xuXG4vLyBDb25zdGFudCBmb3IgdGhlIG1pbmltdW0gc2NhbGVcbmV4cG9ydCBjb25zdCBNSU5fU0NBTEUgPSAwLjI7XG4vLyBDb25zdGFudCBmb3IgdGhlIG1heGltdW0gc2NhbGVcbmV4cG9ydCBjb25zdCBNQVhfU0NBTEUgPSA0LjA7XG5cbi8vIENvbnN0YW50IGZvciBob3cgbG9uZyBhIHBvaW50ZXIgbmVlZHMgdG8gYmUgcHJlc3NlZCB0byBiZSBhIFwibG9uZyBwcmVzc1wiLCBpblxuLy8gbWlsbGlzZWNvbmRzXG5leHBvcnQgY29uc3QgTE9OR19QUkVTU19ERUxBWV9NUyA9IDIwMDtcblxuZXhwb3J0IHR5cGUgTW92ZUV2ZW50ID0ge1xuICAgIHRyYW5zbGF0aW9uOiBQb3NcbiAgICBzY2FsZTogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIFByZXNzRXZlbnQgPSB7XG4gICAgcG9zOiBQb3NcbiAgICBidXR0b246IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQ2FtZXJhRXZlbnRNYXAge1xuICAgIC8vIEEgbW92ZSBldmVudCBpbmNsdWRlcyB6b29taW5nIGluIG9yIG91dFxuICAgICdtb3ZlJzogTW92ZUV2ZW50XG4gICAgJ3ByZXNzJzogUHJlc3NFdmVudFxuICAgICdsb25ncHJlc3MnOiBQcmVzc0V2ZW50XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSBleHRlbmRzIEV2ZW50TWFuYWdlcjxDYW1lcmFFdmVudE1hcD4ge1xuICAgIHByaXZhdGUgZmllbGRTaXplOiBTaXplO1xuXG4gICAgI3RyYW5zbGF0aW9uOiBQb3M7XG4gICAgI3NjYWxlOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIHBvaW50ZXJEb3duRXZlbnQgOiB7XG4gICAgICAgIHRvdWNoZXM6IEFycmF5PFBvaW50ZXJFdmVudD5cbiAgICAgICAgbW92ZU9yU2NhbGU6IGJvb2xlYW4sXG4gICAgICAgIGRpc3RhbmNlOiBudW1iZXIgfCBudWxsLFxuICAgICAgICB0aW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PlxuICAgIH0gfCBudWxsO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBoYW5kbGVXaGVlbDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhhbmRsZVBvaW50ZXJEb3duO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlUG9pbnRlck1vdmU7XG4gICAgcHJpdmF0ZSByZWFkb25seSBoYW5kbGVQb2ludGVyT3V0O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlUG9pbnRlclVwO1xuXG4gICAgY29uc3RydWN0b3IoZmllbGRTaXplOiBTaXplKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5maWVsZFNpemUgPSBmaWVsZFNpemU7XG5cbiAgICAgICAgLy8gUmVzZXQgdGhlIGNhbWVyYVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhbmRsZVdoZWVsID0gKGV2ZW50IDogV2hlZWxFdmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIHRoZSBjYW1lcmEncyBzY2FsZVxuICAgICAgICAgICAgY29uc3QgbmV3U2NhbGUgPSB0aGlzLiNzY2FsZSArIChldmVudC5kZWx0YVkgKiAtMC4wMDUpO1xuICAgICAgICAgICAgLy8gT25seSBjaGFuZ2UgdGhlIHNjYWxlIGlmIGl0J3MgdmFsaWRcbiAgICAgICAgICAgIGlmIChuZXdTY2FsZSA+IE1JTl9TQ0FMRSAmJiBuZXdTY2FsZSA8IE1BWF9TQ0FMRSkge1xuICAgICAgICAgICAgICAgIHRoaXMuI3NjYWxlID0gbmV3U2NhbGU7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudExpc3RlbmVycygnbW92ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb246IHRoaXMuI3RyYW5zbGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy4jc2NhbGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRvZG8gem9vbSBhdCBtb3VzZSBwb3NpdGlvblxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlckRvd24gPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgcG9pbnRlciBldmVudFxuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRlckRvd25FdmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBwb2ludGVyZG93biBldmVudCBpbmZvXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaGVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgbW92ZU9yU2NhbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgLy8gVGltZSBvdXQgZm9yIGxvbmcgcHJlc3Nlc1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSB3YXMgYSBwb2ludGVyIGRvd24gZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJEb3duRXZlbnQgPT0gbnVsbCB8fCB0aGlzLnBvaW50ZXJEb3duRXZlbnQubW92ZU9yU2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRMaXN0ZW5lcnMoJ2xvbmdwcmVzcycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHRoaXMudG9Xb3JsZFBvcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiBldmVudC5idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJEb3duRXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9LCBMT05HX1BSRVNTX0RFTEFZX01TKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgcG9pbnRlciBldmVudFxuICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXMucHVzaChldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZSA9IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRlckRvd25FdmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG9ubHkgb25lIHRvdWNoIGV2ZW50XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgdGhlIHBvaW50ZXIgbW92ZWRcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVggPSBldmVudC5jbGllbnRYIC1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVkgPSBldmVudC5jbGllbnRZIC1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCByZWdpc3RlciBhcyBhIG1vdmVPclNjYWxlIGV2ZW50IGlmIHRoZSBwb2ludGVyIG9ubHkgbW92ZWQgaGFsZiBhIHRpbGUgKG5vXG4gICAgICAgICAgICAgICAgLy8gc2NhbGluZylcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9pbnRlckRvd25FdmVudC5tb3ZlT3JTY2FsZSAmJlxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhkZWx0YVgpIDwgVElMRV9EUkFXX1NJWkUgLyA0ICYmXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGRlbHRhWSkgPCBUSUxFX0RSQVdfU0laRSAvIDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUcmFuc2xhdGUgdGhlIGNhbWVyYVxuICAgICAgICAgICAgICAgIHRoaXMuI3RyYW5zbGF0aW9uLnggKz0gZGVsdGFYO1xuICAgICAgICAgICAgICAgIHRoaXMuI3RyYW5zbGF0aW9uLnkgKz0gZGVsdGFZO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVzdHJpY3QgdGhlIGNhbWVyYVxuICAgICAgICAgICAgICAgIGNvbnN0IG1heFggPSAodGhpcy5maWVsZFNpemUudyAqIFRJTEVfRFJBV19TSVpFICogdGhpcy4jc2NhbGUpIC8gMjtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhZID0gKHRoaXMuZmllbGRTaXplLmggKiBUSUxFX0RSQVdfU0laRSAqIHRoaXMuI3NjYWxlKSAvIDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc2xhdGlvbi54ID0gTWF0aC5taW4odGhpcy4jdHJhbnNsYXRpb24ueCwgbWF4WCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jdHJhbnNsYXRpb24ueCA9IE1hdGgubWF4KHRoaXMuI3RyYW5zbGF0aW9uLngsIC1tYXhYKTtcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc2xhdGlvbi55ID0gTWF0aC5taW4odGhpcy4jdHJhbnNsYXRpb24ueSwgbWF4WSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jdHJhbnNsYXRpb24ueSA9IE1hdGgubWF4KHRoaXMuI3RyYW5zbGF0aW9uLnksIC1tYXhZKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgbXVsdGlwbGUsIHRoaXMgaXMgYSBwaW5jaCBldmVudFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHR3byB0b3VjaCBldmVudHMgKHdlIG9ubHkgY2FyZSBhYm91dCB0aGUgZmlyc3QgdHdvLCBldmVuIGlmXG4gICAgICAgICAgICAgICAgLy8gdGhlIHVzZXIgaGFzIG1vcmUgdGhhbiAyIGZpbmdlcnMgcHJlc3NlZCBvbiB0aGUgc2NyZWVuKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoMCA9IHRoaXMucG9pbnRlckRvd25FdmVudC50b3VjaGVzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoMSA9IHRoaXMucG9pbnRlckRvd25FdmVudC50b3VjaGVzWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gdG91Y2ggZXZlbnRzXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KFxuICAgICAgICAgICAgICAgICAgICB0b3VjaDAuY2xpZW50WCAtIHRvdWNoMS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICB0b3VjaDAuY2xpZW50WSAtIHRvdWNoMS5jbGllbnRZKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIGEgcHJldmlvdXMgZGlzdGFuY2UgaGFzIGJlZW4gY2FsY3VsYXRlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJEb3duRXZlbnQuZGlzdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIG5ldyBzY2FsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNzY2FsZSArPSAoKGRpc3RhbmNlIC0gdGhpcy5wb2ludGVyRG93bkV2ZW50LmRpc3RhbmNlKSAqIDAuMDA1KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZXN0cmljdCB0aGUgc2NhbGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc2NhbGUgPSBNYXRoLm1heCh0aGlzLiNzY2FsZSwgTUlOX1NDQUxFKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc2NhbGUgPSBNYXRoLm1pbih0aGlzLiNzY2FsZSwgTUFYX1NDQUxFKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIHpvb20gYXQgdG91Y2ggcG9zaXRpb25cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgcG9pbnRlciBhcyBoYXZpbmcgbW92ZWQgKHNvIHRoZSB1c2VyIGRvZXNuJ3QgZmxhZyBzb21ldGhpbmcgYnlcbiAgICAgICAgICAgIC8vIGRyYWdnaW5nKVxuICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50Lm1vdmVPclNjYWxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBldmVudFxuICAgICAgICAgICAgY29uc3QgdG91Y2hJbmRleCA9IHRoaXMucG9pbnRlckRvd25FdmVudC50b3VjaGVzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBlID0+IGUucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXNbdG91Y2hJbmRleF0gPSBldmVudDtcblxuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLmNhbGxFdmVudExpc3RlbmVycygnbW92ZScsIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbjogdGhpcy4jdHJhbnNsYXRpb24sXG4gICAgICAgICAgICAgICAgc2NhbGU6IHRoaXMuI3NjYWxlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJPdXQgPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSB3YXMgYSBwb2ludGVyIGRvd24gZXZlbnRcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJEb3duRXZlbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG11bHRpcGxlIHBvaW50ZXJzXG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcG9pbnRlcidzIHRvdWNoXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXMgPSB0aGlzLnBvaW50ZXJEb3duRXZlbnQudG91Y2hlcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIGUgPT4gZS5wb2ludGVySWQgIT09IGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBkaXN0YW5jZVxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd25FdmVudC5kaXN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9pbnRlckRvd25FdmVudC50aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJEb3duRXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlclVwID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmUgd2FzIGEgcG9pbnRlciBkb3duIGV2ZW50XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVyRG93bkV2ZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBwb2ludGVyc1xuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRlckRvd25FdmVudC50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHBvaW50ZXIncyB0b3VjaFxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd25FdmVudC50b3VjaGVzID0gdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICBlID0+IGUucG9pbnRlcklkICE9PSBldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgZGlzdGFuY2VcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJEb3duRXZlbnQuZGlzdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwb2ludGVyIGRpZG4ndCBtb3ZlT3JTY2FsZSAoYW5kIHRoZXJlJ3Mgb25lIHBvaW50ZXIpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnBvaW50ZXJEb3duRXZlbnQubW92ZU9yU2NhbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudExpc3RlbmVycygncHJlc3MnLCB7XG4gICAgICAgICAgICAgICAgICAgIHBvczogdGhpcy50b1dvcmxkUG9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyRG93bkV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd25FdmVudC50b3VjaGVzWzBdLmNsaWVudFkpLFxuICAgICAgICAgICAgICAgICAgICBidXR0b246IGV2ZW50LmJ1dHRvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgZXZlbnRcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvaW50ZXJEb3duRXZlbnQudGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJEb3duRXZlbnQgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudHMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1pZGRsZVRyYW5zbGF0aW9uKCk6IFBvcyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAoKGNhbnZhcy53aWR0aCAvIDIpIC1cbiAgICAgICAgICAgICAgICAodGhpcy5zY2FsZSAqICgodGhpcy5maWVsZFNpemUudyAqIFRJTEVfRFJBV19TSVpFKSAvIDIpKSksXG4gICAgICAgICAgICB5OiAoKGNhbnZhcy5oZWlnaHQgLyAyKSAtXG4gICAgICAgICAgICAgICAgKHRoaXMuc2NhbGUgKiAoKHRoaXMuZmllbGRTaXplLmggKiBUSUxFX0RSQVdfU0laRSkgLyAyKSkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB0cmFuc2xhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RyYW5zbGF0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzY2FsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9DYW52YXNQb3MoeCwgeTogbnVtYmVyKTogUG9zIHtcbiAgICAgICAgY29uc3QgbWlkZGxlVHJhbnNsYXRlID0gdGhpcy5taWRkbGVUcmFuc2xhdGlvbigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogbWlkZGxlVHJhbnNsYXRlLnggK1xuICAgICAgICAgICAgICAgICh0aGlzLnRyYW5zbGF0aW9uLnggKyAoKHggKiBUSUxFX0RSQVdfU0laRSkgKiB0aGlzLnNjYWxlKSksXG4gICAgICAgICAgICAvLyBUcmFuc2xhdGUgdG8gdGhlIGNlbnRlciBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICB5OiBtaWRkbGVUcmFuc2xhdGUueSArXG4gICAgICAgICAgICAgICAgKHRoaXMudHJhbnNsYXRpb24ueSArICgoeSAqIFRJTEVfRFJBV19TSVpFKSAqIHRoaXMuc2NhbGUpKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9Xb3JsZFBvcyh4LCB5OiBudW1iZXIpOiBQb3Mge1xuICAgICAgICBjb25zdCBtaWRkbGVUcmFuc2xhdGUgPSB0aGlzLm1pZGRsZVRyYW5zbGF0aW9uKCk7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBNYXRoLmZsb29yKCgoeCAtIHJlY3QubGVmdCAtIG1pZGRsZVRyYW5zbGF0ZS54IC1cbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0aW9uLngpIC8gdGhpcy5zY2FsZSkgLyBUSUxFX0RSQVdfU0laRSksXG4gICAgICAgICAgICB5OiBNYXRoLmZsb29yKCgoeSAtIHJlY3QubGVmdCAtIG1pZGRsZVRyYW5zbGF0ZS55IC1cbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0aW9uLnkpIC8gdGhpcy5zY2FsZSkgLyBUSUxFX0RSQVdfU0laRSksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgdGhlIGNhbWVyYSB0byB0aGUgbWlkZGxlIG9mIHRoZSBmaWVsZFxuICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgLy8gRml0IHRoZSBnYW1lIGluIHRoZSBjYW52YXNcbiAgICAgICAgdGhpcy4jc2NhbGUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCAvICh0aGlzLmZpZWxkU2l6ZS53ICogVElMRV9EUkFXX1NJWkUgKiAxLjEpLFxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvICh0aGlzLmZpZWxkU2l6ZS5oICogVElMRV9EUkFXX1NJWkUgKiAxLjEpKTtcbiAgICAgICAgLy8gUmVzdHJpY3QgdGhlIHNjYWxlXG4gICAgICAgIHRoaXMuI3NjYWxlID0gTWF0aC5tYXgodGhpcy4jc2NhbGUsIE1JTl9TQ0FMRSk7XG4gICAgICAgIHRoaXMuI3NjYWxlID0gTWF0aC5taW4odGhpcy4jc2NhbGUsIE1BWF9TQ0FMRSk7XG5cbiAgICAgICAgLy8gUmVzZXQgdGhlIHRyYW5zbGF0aW9uXG4gICAgICAgIHRoaXMuI3RyYW5zbGF0aW9uID0ge3g6IDAsIHk6IDB9O1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3RlckV2ZW50cygpIHtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5oYW5kbGVXaGVlbCk7XG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuaGFuZGxlUG9pbnRlckRvd24pO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdXQnLCB0aGlzLmhhbmRsZVBvaW50ZXJPdXQpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5oYW5kbGVQb2ludGVyVXApO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXJlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLmhhbmRsZVdoZWVsKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5oYW5kbGVQb2ludGVyRG93bik7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm91dCcsIHRoaXMuaGFuZGxlUG9pbnRlck91dCk7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLmhhbmRsZVBvaW50ZXJVcCk7XG4gICAgfVxuXG59IiwiaW1wb3J0IE1lbnUsIHtFbGVtZW50fSBmcm9tICcuL21lbnUnO1xuaW1wb3J0IHtTUFJJVEVTLCBjYW52YXMsIGN0eCwgZHJhd1Nwcml0ZX0gZnJvbSAnLi9kcmF3JztcblxuaW1wb3J0IHtSZWN0LCBwb3N9IGZyb20gJy4vY29tbW9uJztcblxuLy8gVEhlIGJhY2tncm91bmQgb2YgdGhlIG1vZGFsIGlzIG1hZGUgdXAgb2YgYSBncmlkIG9mIDEyeDEyIHRpbGVzXG5jb25zdCBNT0RBTF9HUklEX1NJWkUgPSAxMDtcblxuZXhwb3J0IGNvbnN0IENMT1NFX0JVVFRPTjogRWxlbWVudCA9IHtcbiAgICBpZDogJ21vZGFsLmNsb3NlX2J1dHRvbicsXG4gICAgc3ByaXRlOiBTUFJJVEVTLlRJTEVTLkNMT1NFLFxuICAgIHNjYWxlOiAxXG59O1xuXG5leHBvcnQgY29uc3QgQkFDS19CVVRUT046IEVsZW1lbnQgPSB7XG4gICAgaWQ6ICdtb2RhbC5iYWNrX2J1dHRvbicsXG4gICAgc3ByaXRlOiBTUFJJVEVTLk1PREFMLkJBQ0ssXG4gICAgaG92ZXJlZFNwcml0ZTogcG9zKFNQUklURVMuTU9EQUwuQkFDS19IT1ZFUkVEKSxcbiAgICBzY2FsZTogMS4yNSxcbiAgICBpbnRlcmFjdGFibGU6IHRydWVcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIGV4dGVuZHMgTWVudSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudHM6IEFycmF5PEVsZW1lbnQ+KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBhc3luYyBkcmF3KCkge1xuICAgICAgICAvLyBEcmF3IHRoZSBiYWNrZ3JvdW5kIGluIGEgcHJvbWlzZVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZTxSZWN0PihyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSBjYW52YXMgd2lkdGggYW5kIGhlaWdodFxuICAgICAgICAgICAgY29uc3QgdyA9IGNhbnZhcy53aWR0aCwgaCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIERhcmtlbiB0aGUgZmllbGRcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjQpJztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3LCBoKTtcblxuICAgICAgICAgICAgLy8gVGhlIG1vZGFsIGlzIDgwJSB0aGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMgaWYgbGFuZHNjYXBlLCBvciA4MCUgdGhlIHdpZHRoIGlmIHBvcnRyYWl0XG4gICAgICAgICAgICBjb25zdCBtb2RhbFNpemUgPSB3ID4gaCA/IGggKiAwLjggOiB3ICogMC44O1xuXG4gICAgICAgICAgICBjb25zdCBtb2RhbFggPSAodyAvIDIpIC0gKG1vZGFsU2l6ZSAvIDIpO1xuICAgICAgICAgICAgY29uc3QgbW9kYWxZID0gKGggLyAyKSAtIChtb2RhbFNpemUgLyAyKTtcblxuICAgICAgICAgICAgLy8gVGhlIGJhY2tncm91bmQgaXMgbWFkZSB1cCBvZiBhIGdyaWQgb2YgMTJ4MTIgdGlsZXNcbiAgICAgICAgICAgIGNvbnN0IHRpbGVTaXplID0gbW9kYWxTaXplIC8gTU9EQUxfR1JJRF9TSVpFO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IE1PREFMX0dSSURfU0laRTsgeSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBNT0RBTF9HUklEX1NJWkU7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHRpbGUncyBoaXRib3hcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGl0Ym94OiBSZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogbW9kYWxYICsgKHggKiB0aWxlU2l6ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBtb2RhbFkgKyAoeSAqIHRpbGVTaXplKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHc6IHRpbGVTaXplLCBoOiB0aWxlU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIGRyYXcgdGhlIGJhY2tncm91bmQgcHJvcGVybHlcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNwcml0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBpY2sgdGhlIGNlbnRlciBwaXhlbFxuICAgICAgICAgICAgICAgICAgICAgICAgeDogU1BSSVRFUy5USUxFUy5FTVBUWS53IC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IFNQUklURVMuVElMRVMuRU1QVFkuaCAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3OiAxLCBoOiAxXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgUmVjdDtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRpbGUgc2hvdWxkIGJlIGEgY29ybmVyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IE1PREFMX0dSSURfU0laRSAtIDEgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPT09IDAgfHwgeSA9PT0gTU9EQUxfR1JJRF9TSVpFIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRpbGUgaXMgaW4gdGhlIHVwcGVyIHJpZ2h0IGNvcm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHggPT09IE1PREFMX0dSSURfU0laRSAtIDEgJiYgeSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGlzIHRoZSBjbG9zZSBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBDTE9TRV9CVVRUT04uc3ByaXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgaGl0Ym94IHRvIHRoZSBtZW51XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50SGl0Ym94ZXMuc2V0KENMT1NFX0JVVFRPTi5pZCwgaGl0Ym94KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgPSBTUFJJVEVTLlRJTEVTLkhJRERFTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoc3ByaXRlLCBoaXRib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoIHRoZSBtb2RhbCdzIGlubmVyIGJvdW5kcywgZm9yIGRyYXdpbmcgdGhlIG1lbnVcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHg6IG1vZGFsWCArIHRpbGVTaXplLFxuICAgICAgICAgICAgICAgIHk6IG1vZGFsWSArIHRpbGVTaXplLFxuICAgICAgICAgICAgICAgIHc6IG1vZGFsU2l6ZSAtICh0aWxlU2l6ZSAqIDIpLFxuICAgICAgICAgICAgICAgIGg6IG1vZGFsU2l6ZSAtICh0aWxlU2l6ZSAqIDIpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFRoZW4sIGRyYXcgdGhlIG1lbnUgb3ZlciBpdFxuICAgICAgICB9KS50aGVuKGlubmVyTW9kYWxCb3VuZHMgPT4gc3VwZXIuZHJhdyhpbm5lck1vZGFsQm91bmRzKSk7XG4gICAgfVxufSIsImltcG9ydCBNb2RhbCwge0JBQ0tfQlVUVE9OfSBmcm9tICcuL21vZGFsJztcbmltcG9ydCB7RWxlbWVudH0gZnJvbSAnLi9tZW51JztcbmltcG9ydCB7U1BSSVRFU30gZnJvbSAnLi9kcmF3JztcblxuaW1wb3J0IHtwb3N9IGZyb20gJy4vY29tbW9uJztcblxuZXhwb3J0IGNvbnN0IFRJVExFOiBFbGVtZW50ID0ge1xuICAgIGlkOiAnbW9kYWwucmV0cnkudGl0bGUnLFxuICAgIHNwcml0ZTogU1BSSVRFUy5SRVRSWV9NT0RBTC5USVRMRSxcbiAgICBzY2FsZTogMSxcbn07XG5cbmV4cG9ydCBjb25zdCBSRVRSWV9CVVRUT046IEVsZW1lbnQgPSB7XG4gICAgaWQ6ICdtb2RhbC5yZXRyeS5yZXRyeV9idXR0b24nLFxuICAgIHNwcml0ZTogU1BSSVRFUy5SRVRSWV9NT0RBTC5SRVRSWSxcbiAgICBob3ZlcmVkU3ByaXRlOiBwb3MoU1BSSVRFUy5SRVRSWV9NT0RBTC5SRVRSWV9IT1ZFUkVEKSxcbiAgICBzY2FsZTogMS4yNSxcbiAgICBpbnRlcmFjdGFibGU6IHRydWVcbn07XG5cbi8vIFRoZSBlbGVtZW50cywgaW4gb3JkZXIgb2YgaG93IHRoZXkncmUgZGlzcGxheWVkIG9uIHNjcmVlbiAodG9wIGRvd24pXG5jb25zdCBFTEVNRU5UUzogQXJyYXk8RWxlbWVudD4gPSBbVElUTEUsIFJFVFJZX0JVVFRPTiwgQkFDS19CVVRUT05dO1xuXG5leHBvcnQgZGVmYXVsdCBNb2RhbC5iaW5kKE1vZGFsLCBFTEVNRU5UUyk7IiwiaW1wb3J0IE1vZGFsLCB7QkFDS19CVVRUT059IGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0IHtFbGVtZW50fSBmcm9tICcuL21lbnUnO1xuaW1wb3J0IHtTUFJJVEVTfSBmcm9tICcuL2RyYXcnO1xuXG5pbXBvcnQge3Bvc30gZnJvbSAnLi9jb21tb24nO1xuXG5leHBvcnQgY29uc3QgVElUTEU6IEVsZW1lbnQgPSB7XG4gICAgaWQ6ICdtb2RhbC5zdWNjZXNzLnRpdGxlJyxcbiAgICBzcHJpdGU6IFNQUklURVMuU1VDQ0VTU19NT0RBTC5USVRMRSxcbiAgICBzY2FsZTogMSxcbn07XG5cbmV4cG9ydCBjb25zdCBSRVNFVF9CVVRUT046IEVsZW1lbnQgPSB7XG4gICAgaWQ6ICdtb2RhbC5zdWNjZXNzLnJlc2V0X2J1dHRvbicsXG4gICAgc3ByaXRlOiBTUFJJVEVTLlNVQ0NFU1NfTU9EQUwuUkVTRVQsXG4gICAgaG92ZXJlZFNwcml0ZTogcG9zKFNQUklURVMuU1VDQ0VTU19NT0RBTC5SRVNFVF9IT1ZFUkVEKSxcbiAgICBzY2FsZTogMS4yNSxcbiAgICBpbnRlcmFjdGFibGU6IHRydWVcbn07XG5cbi8vIFRoZSBlbGVtZW50cywgaW4gb3JkZXIgb2YgaG93IHRoZXkncmUgZGlzcGxheWVkIG9uIHNjcmVlbiAodG9wIGRvd24pXG5jb25zdCBFTEVNRU5UUzogQXJyYXk8RWxlbWVudD4gPSBbVElUTEUsIFJFU0VUX0JVVFRPTiwgQkFDS19CVVRUT05dO1xuXG5leHBvcnQgZGVmYXVsdCBNb2RhbC5iaW5kKE1vZGFsLCBFTEVNRU5UUyk7IiwiaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuL3V0aWwnO1xuXG4vLyBDcmVhdGUgdGhlIFdBU00gd2ViIHdvcmtlclxuVXRpbC5jb25zb2xlTG9nKCdDcmVhdGluZyBXQVNNIHdvcmtlcicpO1xuY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcihuZXcgVVJMKCcuL3dvcmtlci50cycsIGltcG9ydC5tZXRhLnVybCkpO1xuXG50eXBlIE1lc3NhZ2U8VD4gPSB7XG4gICAgY21kOiBzdHJpbmcsXG4gICAgaWQ6IHN0cmluZyxcbiAgICBkYXRhOiBUXG59XG5cbnR5cGUgUmVzcG9uc2VNZXNzYWdlPFQ+ID0gTWVzc2FnZTxUPiAmIHtcbiAgICBzdWNjZXNzOiBib29sZWFuXG59XG5cbmZ1bmN0aW9uIG5ld01lc3NhZ2U8VD4oY21kOiBzdHJpbmcsIGRhdGE6IFQpOiBNZXNzYWdlPFQ+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjbWQsXG4gICAgICAgIC8vIFdlJ3JlIGFzc3VtaW5nIHRoZSBjbWQgbmFtZSArIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMgaXMgYSBnb29kIGVub3VnaCBJRFxuICAgICAgICBpZDogY21kICsgRGF0ZS5ub3coKSxcbiAgICAgICAgZGF0YVxuICAgIH07XG59XG5cbi8vIEEgbWFwIG9mIHByb21pc2VzLCBpbmRleGVkIGJ5IG1lc3NhZ2UgSURcbmNvbnN0IHByb21pc2VzID0gbmV3IE1hcDxzdHJpbmcsIFsoZGF0YTogdW5rbm93bikgPT4gdm9pZCwgKGVycjogdW5rbm93bikgPT4gdm9pZF0+KCk7XG5cblV0aWwuY29uc29sZUxvZygnUmVnaXN0ZXJpbmcgV2ViSU8gZXZlbnQgbGlzdGVuZXIgZm9yIEdvJyk7XG53b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGUgPT4ge1xuICAgIGlmIChlLmRhdGEpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IFJlc3BvbnNlTWVzc2FnZTx1bmtub3duPiA9IGUuZGF0YTtcbiAgICAgICAgY29uc3QgW3Jlc29sdmUsIHJlamVjdF0gPSBwcm9taXNlcy5nZXQocmVzcG9uc2UuaWQpO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFV0aWwuY29uc29sZUxvZygnRXJyb3IgcmVzcG9uc2UgZm9yIFxcJycgKyByZXNwb25zZS5jbWQgKyAnXFwnOiAnICsgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICByZWplY3QocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLy8gV2hldGhlciB0aGUgd29ya2VyIGhhcyBiZWVuIGNvbm5lY3RlZFxuZXhwb3J0IGxldCB3b3JrZXJDb25uZWN0ZWQgPSBmYWxzZTtcblxuLy8gTWVzc2FnZXMgdGhhdCBoYXZlIGJlZW4gcG9zdGVkIHdoaWxlIHRoZSB3b3JrZXIgaXMgYmVpbmcgY3JlYXRlZFxuY29uc3QgcXVldWVkTWVzc2FnZXM6IEFycmF5PE1lc3NhZ2U8dW5rbm93bj4+ID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3N0TWVzc2FnZTxULCBSPihjbWQ6IHN0cmluZywgZGF0YT86IFQsIG5vUXVldWU/OiBib29sZWFuKTogUHJvbWlzZTxSPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgbXNnID0gbmV3TWVzc2FnZShjbWQsIGRhdGEpO1xuICAgICAgICAvLyBBZGQgdGhlIHByb21pc2VcbiAgICAgICAgcHJvbWlzZXMuc2V0KG1zZy5pZCwgW3Jlc29sdmUsIHJlamVjdF0pO1xuICAgICAgICBpZiAoIW5vUXVldWUgJiYgIXdvcmtlckNvbm5lY3RlZCkge1xuICAgICAgICAgICAgVXRpbC5jb25zb2xlTG9nKGNtZCArICcgbWVzc2FnZSByZWNlaXZlZCwgYnV0IHdvcmtlciBoYXNuXFwndCBjb25uZWN0ZWQgeWV0LiBBZGRpbmcgdG8gcXVldWUnKTtcbiAgICAgICAgICAgIHF1ZXVlZE1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShtc2cpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRQaW5nKHRpbWVvdXQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHBpbmdQcm9taXNlID0gcG9zdE1lc3NhZ2UoJ3BpbmcnLCBudWxsLCB0cnVlKTtcbiAgICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChfLCByKSA9PiBzZXRUaW1lb3V0KHIsIHRpbWVvdXQpKTtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIEF3YWl0IHRoZSBwaW5nLCBhbmQgaWYgaXQgc3VjY2VlZHNcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtwaW5nUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgICAgICAgLy8gU2V0IHRoZSB3b3JrZXIgYXMgY29ubmVjdGVkXG4gICAgICAgIHdvcmtlckNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIC8vIFBvc3QgdGhlIHF1ZXVlZCBtZXNzYWdlcyB0byB0aGUgd29ya2VyXG4gICAgICAgIHF1ZXVlZE1lc3NhZ2VzLmZvckVhY2goKG1zZykgPT4ge1xuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKG1zZyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDbGVhciB0aGUgcXVldWVcbiAgICAgICAgcXVldWVkTWVzc2FnZXMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgLy8gSWYgdGhlIHRpbWVvdXQgcHJvbWlzZSByZXNvbHZlZCBmaXJzdFxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuY29uc3QgTUFYX1BJTkdTID0gNTtcblxuYXN5bmMgZnVuY3Rpb24gc2VuZFBpbmdVbnRpbENvbm5lY3QoKSB7XG4gICAgbGV0IHBpbmdzID0gMDtcbiAgICBsZXQgdGltZW91dCA9IDEwMDtcbiAgICB3aGlsZSAoIXdvcmtlckNvbm5lY3RlZCAmJiBwaW5ncyA8IE1BWF9QSU5HUykge1xuICAgICAgICBVdGlsLmNvbnNvbGVMb2coJ1NlbmRpbmcgcGluZyB3aXRoIHRpbWVvdXQgJyArIHRpbWVvdXQgKyAnbXMnKTtcbiAgICAgICAgcGluZ3MrKztcbiAgICAgICAgaWYgKCFhd2FpdCBzZW5kUGluZyh0aW1lb3V0KSkge1xuICAgICAgICAgICAgdGltZW91dCA9IHRpbWVvdXQgKiAyO1xuICAgICAgICAgICAgVXRpbC5jb25zb2xlTG9nKCdQaW5nIHRpbWVvdXQgcmVhY2hlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBpbmdzID49IE1BWF9QSU5HUykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01heCBwaW5ncyAnICsgTUFYX1BJTkdTICsgJyByZWFjaGVkLCBhc3N1bWluZyBXQVNNIG1vZHVsZSBpcyBub3QgZnVuY3Rpb25hbCcpO1xuICAgIH1cbn1cbnNlbmRQaW5nVW50aWxDb25uZWN0KCkudGhlbigoKSA9PiB7XG4gICAgVXRpbC5jb25zb2xlTG9nKCdSZXNwb25zZSB0byBwaW5nIHJlY2VpdmVkLCB3b3JrZXIgY29ubmVjdGVkJyk7XG59KTsiLCJpbXBvcnQgQ2FtZXJhLCB7UHJlc3NFdmVudCwgVElMRV9EUkFXX1NJWkV9IGZyb20gJy4vY2FtZXJhJztcbmltcG9ydCB7U1BSSVRFUywgY2FudmFzLCBjdHgsIGRyYXdTcHJpdGV9IGZyb20gJy4vZHJhdyc7XG5cbmltcG9ydCBNb2RhbCwge0JBQ0tfQlVUVE9OLCBDTE9TRV9CVVRUT059IGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0IFJldHJ5TW9kYWwsIHtSRVRSWV9CVVRUT059IGZyb20gJy4vcmV0cnktbW9kYWwnO1xuaW1wb3J0IFN1Y2Nlc3NNb2RhbCwge1JFU0VUX0JVVFRPTn0gZnJvbSAnLi9zdWNjZXNzLW1vZGFsJztcbmltcG9ydCB7RWxlbWVudFByZXNzRXZlbnR9IGZyb20gJy4vbWVudSc7XG5cbmltcG9ydCB7Y29uc29sZUxvZywgbGltaXRlcn0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7U2l6ZX0gZnJvbSAnLi9jb21tb24nO1xuXG5pbXBvcnQgKiBhcyB3b3JrZXIgZnJvbSAnLi93b3JrZXItaGVscGVyJztcblxuLy8gQ29uc3RhbnRzIGZvciB0aGUgZ2FtZSBzdGF0ZXNcbmNvbnN0IEdBTUVfU1RBVEVTID0ge1xuICAgIFNUQVJUOiAnc3RhcnQnLFxuICAgIFBMQVlJTkc6ICdwbGF5aW5nJyxcbiAgICBXSU46ICd3aW4nLFxuICAgIExPU1M6ICdsb3NzJ1xufTtcblxuY2xhc3MgTW9kYWxDb250YWluZXIge1xuICAgIHByaXZhdGUgbW9kYWw6IE1vZGFsIHwgbnVsbDtcbiAgICAjaGlkZGVuOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW9kYWwgPSBudWxsO1xuICAgICAgICB0aGlzLiNoaWRkZW4gPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBvcGVuKG1vZGFsOiBNb2RhbCkge1xuICAgICAgICB0aGlzLm1vZGFsID0gbW9kYWw7XG4gICAgICAgIHRoaXMuI2hpZGRlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vZGFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1vZGFsIHRvIGNsb3NlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIHRoaXMubW9kYWwgPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaGlkZGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jaGlkZGVuO1xuICAgIH1cblxuICAgIHB1YmxpYyBoaWRlKCkge1xuICAgICAgICBpZiAoIXRoaXMubW9kYWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9kYWwgdG8gaGlkZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kYWwuZGVyZWdpc3RlckV2ZW50cygpO1xuICAgICAgICB0aGlzLiNoaWRkZW4gPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXZlYWwoKSB7XG4gICAgICAgIGlmICghdGhpcy5tb2RhbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtb2RhbCB0byByZXZlYWwnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGFsLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuI2hpZGRlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBkcmF3KCkge1xuICAgICAgICBpZiAoIXRoaXMuI2hpZGRlbikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5tb2RhbC5kcmF3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVyZWdpc3RlckV2ZW50cygpIHtcbiAgICAgICAgdGhpcy5tb2RhbD8uZGVyZWdpc3RlckV2ZW50cygpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZTogRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZmllbGRTaXplOiBTaXplO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbnVtTWluZXM6IG51bWJlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhhbmRsZUJhY2s6ICgpID0+IHZvaWQ7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGNhbWVyYTogQ2FtZXJhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbW9kYWw6IE1vZGFsQ29udGFpbmVyO1xuXG4gICAgLy8gVGhlIGRyYXcgZnVuY3Rpb24gd2l0aCBhIGxpbWl0ZXIsIHRvIHByZXZlbnQgZmxpY2tlcmluZyB3aGVuIHJlc2l6aW5nXG4gICAgcHJpdmF0ZSByZWFkb25seSBkcmF3V2l0aExpbWl0OiAoKSA9PiB2b2lkO1xuXG4gICAgcHJpdmF0ZSBnYW1lT3ZlcjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG51bU1pbmVzOiBudW1iZXIsIGhhbmRsZUJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5maWVsZFNpemUgPSB7dzogd2lkdGgsIGg6IGhlaWdodH07XG4gICAgICAgIHRoaXMubnVtTWluZXMgPSBudW1NaW5lcztcbiAgICAgICAgdGhpcy5oYW5kbGVCYWNrID0gaGFuZGxlQmFjaztcblxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcy5maWVsZFNpemUpO1xuICAgICAgICB0aGlzLmNhbWVyYS5hZGRFdmVudExpc3RlbmVyKCdwcmVzcycsIHRoaXMuaGFuZGxlUHJlc3MuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY2FtZXJhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvbmdwcmVzcycsIHRoaXMuaGFuZGxlTG9uZ1ByZXNzLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNhbWVyYS5hZGRFdmVudExpc3RlbmVyKCdtb3ZlJywgdGhpcy5kcmF3LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWxDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5kcmF3V2l0aExpbWl0ID0gbGltaXRlcih0aGlzLmRyYXcuYmluZCh0aGlzKSwgMTAwKTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKCdpbml0Jywge1xuICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy5maWVsZFNpemUudyxcbiAgICAgICAgICAgICdoZWlnaHQnOiB0aGlzLmZpZWxkU2l6ZS5oLFxuICAgICAgICAgICAgJ21pbmVzJzogdGhpcy5udW1NaW5lcyxcblxuICAgICAgICAgICAgLy8gT25jZSBpbml0aWFsaXNlZCwgZHJhdyBpdFxuICAgICAgICB9KS50aGVuKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZHJhdygpIHtcbiAgICAgICAgLy8gdG9kbyBvbmx5IHJlcXVlc3QgdGhlIHZpc2libGUgbWluZXMgKHdpdGggdGhlIGNhbWVyYSlcbiAgICAgICAgY29uc3QgcmVjdCA9IHtcbiAgICAgICAgICAgIHg6IDAsIHk6IDAsXG4gICAgICAgICAgICB3OiB0aGlzLmZpZWxkU2l6ZS53LCBoOiB0aGlzLmZpZWxkU2l6ZS5oXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUmVxdWVzdCB0aGUgYXBwZWFyYW5jZSBvZiB0aGUgYm9hcmQgZnJvbSBHb1xuICAgICAgICBhd2FpdCB3b3JrZXIucG9zdE1lc3NhZ2UoJ2FwcGVhcmFuY2UnLCByZWN0KVxuICAgICAgICAgICAgLy8gVGhlbiBkcmF3IGl0XG4gICAgICAgICAgICAudGhlbih0aGlzLmRyYXdBcHBlYXJhbmNlLmJpbmQodGhpcykpXG4gICAgICAgICAgICAvLyBUaGVuIGRyYXcgdGhlIG1vZGFsIG92ZXIgdG9wIChpZiBhY3RpdmUpXG4gICAgICAgICAgICAudGhlbih0aGlzLm1vZGFsLmRyYXcuYmluZCh0aGlzLm1vZGFsKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kcmF3V2l0aExpbWl0KTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgcHJldmVudERlZmF1bHQpO1xuICAgICAgICBpZiAodGhpcy5tb2RhbC5oaWRkZW4pIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVyZWdpc3RlckV2ZW50cygpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZHJhd1dpdGhMaW1pdCk7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgdGhpcy5jYW1lcmEuZGVyZWdpc3RlckV2ZW50cygpO1xuICAgICAgICB0aGlzLm1vZGFsLmRlcmVnaXN0ZXJFdmVudHMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGRyYXdBcHBlYXJhbmNlKGFwcGVhcmFuY2VEYXRhOiBBcnJheTxBcnJheTxzdHJpbmc+Pikge1xuICAgICAgICAvLyBUaGUgY2FudmFzIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgY29uc3QgdyA9IGNhbnZhcy53aWR0aCwgaCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhcyAoZm9yIG5vdylcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTtcblxuICAgICAgICBjb25zdCBkcmF3UHJvbWlzZXMgPSBbXSBhcyBBcnJheTxQcm9taXNlPHZvaWQ+PjtcblxuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIHRpbGVzXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5maWVsZFNpemUuaDsgKyt5KSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuZmllbGRTaXplLnc7ICsreCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgc3ByaXRlXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gU1BSSVRFUy5USUxFU1thcHBlYXJhbmNlRGF0YVt5XVt4XV07XG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdGlsZSBvbiB0aGUgY2FudmFzXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gdGhpcy5jYW1lcmEudG9DYW52YXNQb3MoeCwgeSk7XG4gICAgICAgICAgICAgICAgZHJhd1Byb21pc2VzLnB1c2goZHJhd1Nwcml0ZShzcHJpdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHBvc2l0aW9uIG9mIHRoZSB0aWxlIHRvIGRyYXcgdG9cbiAgICAgICAgICAgICAgICAgICAgeDogcG9zLngsIHk6IHBvcy55LFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgc2l6ZSBvZiB0aGUgdGlsZSB0byBkcmF3IHRvXG4gICAgICAgICAgICAgICAgICAgIHc6IFRJTEVfRFJBV19TSVpFICogdGhpcy5jYW1lcmEuc2NhbGUsIGg6IFRJTEVfRFJBV19TSVpFICogdGhpcy5jYW1lcmEuc2NhbGVcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0b2RvIHBhZ2luYXRpb25cbiAgICAgICAgLy8gdG9kbyBkcmF3IGJhclxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkcmF3UHJvbWlzZXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlU3RhdGUoc3RhdGVEYXRhKSB7XG4gICAgICAgIHN3aXRjaCAoc3RhdGVEYXRhLnN0YXRlKSB7XG4gICAgICAgIGNhc2UgR0FNRV9TVEFURVMuV0lOOlxuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlTG9nKCdXaW4gZGV0ZWN0ZWQsIGRpc3BsYXlpbmcgc3VjY2VzcyBtb2RhbCcpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFbmRHYW1lTW9kYWwoU3VjY2Vzc01vZGFsLCBSRVNFVF9CVVRUT04uaWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR0FNRV9TVEFURVMuTE9TUzpcbiAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZUxvZygnTG9zcyBkZXRlY3RlZCwgZGlzcGxheWluZyByZXRyeSBtb2RhbCcpO1xuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmhhbmRsZUVuZEdhbWVNb2RhbC5iaW5kKHRoaXMsIFJldHJ5TW9kYWwsIFJFVFJZX0JVVFRPTi5pZCksXG4gICAgICAgICAgICAgICAgLy8gRGlzcGxheSBhZnRlciAxcyBzbyB0aGUgdXNlciBjYW4gc2VlIHRoZSBmaWVsZCBmb3IgYSBiaXRcbiAgICAgICAgICAgICAgICAxMDAwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVFbmRHYW1lTW9kYWwobW9kYWxDb25zdHJ1Y3RvcjogKCkgPT4gdm9pZCwgcmVzZXRFbGVtZW50SWQ6IHN0cmluZykge1xuICAgICAgICAvLyBEaXNwbGF5IHRoZSBtb2RhbFxuICAgICAgICBjb25zdCBtb2RhbDogTW9kYWwgPSBuZXcgbW9kYWxDb25zdHJ1Y3RvcigpO1xuICAgICAgICB0aGlzLm1vZGFsLm9wZW4obW9kYWwpO1xuICAgICAgICAvLyBBZGQgc29tZSBjb21tb24gZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignaG92ZXInLCB0aGlzLmRyYXcuYmluZCh0aGlzKSk7XG4gICAgICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZXNzJywgKGV2ZW50OiBFbGVtZW50UHJlc3NFdmVudCkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChldmVudC5wcmVzc2VkRWxlbWVudCkge1xuICAgICAgICAgICAgY2FzZSBDTE9TRV9CVVRUT04uaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEucmVnaXN0ZXJFdmVudHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgcmVzZXRFbGVtZW50SWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBCQUNLX0JVVFRPTi5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmRlcmVnaXN0ZXJFdmVudHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRoZSBtb2RhbCBpcyBvcGVuIHNvIGRvbid0IGFsbG93IHRoZSBjYW1lcmEgdG8gbW92ZVxuICAgICAgICB0aGlzLmNhbWVyYS5kZXJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgICAgIC8vIERyYXcgdGhlIG1vZGFsXG4gICAgICAgIGF3YWl0IHRoaXMuZHJhdygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUHJlc3MoZXZlbnQ6IFByZXNzRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVPdmVyKSB7XG4gICAgICAgICAgICAvLyBMZWZ0IG1vdXNlIGJ1dHRvblxuICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSgndW5jb3ZlcicsIGV2ZW50LnBvcylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgc3RhdGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kcmF3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBSaWdodCBtb3VzZSBidXR0b25cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSAyKSB7XG4gICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKCdmbGFnJywgZXZlbnQucG9zKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0aGlzLmRyYXcuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBnYW1lIGlzIG92ZXIgYnV0IHRoZSBtb2RhbCBpcyBoaWRkZW5cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGFsLmhpZGRlbikge1xuICAgICAgICAgICAgLy8gUmVvcGVuIHRoZSBtb2RhbFxuICAgICAgICAgICAgdGhpcy5tb2RhbC5yZXZlYWwoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLmRlcmVnaXN0ZXJFdmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVMb25nUHJlc3MoZXZlbnQ6IFByZXNzRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVPdmVyICYmIGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKCdmbGFnJywgZXZlbnQucG9zKVxuICAgICAgICAgICAgICAgIC50aGVuKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCBNYWluTWVudSwge0VBU1lfQlVUVE9OLCBIQVJEX0JVVFRPTiwgTUVESVVNX0JVVFRPTn0gZnJvbSAnLi9tYWluLW1lbnUnO1xuaW1wb3J0IEdhbWUgZnJvbSAnLi9nYW1lJztcblxuaW1wb3J0IHtjYW52YXMsIGN0eH0gZnJvbSAnLi9kcmF3JztcbmltcG9ydCB7RWxlbWVudFByZXNzRXZlbnR9IGZyb20gJy4vbWVudSc7XG5cbmltcG9ydCAnLi4vYXNzZXRzL3N0eWxlcy5jc3MnO1xuXG4vLyBNYWtlIHRoZSBjYW52YXMgZnVsbHNjcmVlblxuZnVuY3Rpb24gZnVsbHNjcmVlbkNhbnZhcygpIHtcbiAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGN0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY3R4Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG59XG5cbi8vIEFkZCBhbiBldmVudCBoYW5kbGVyIHRvIHJlc2l6ZSB0aGUgY2FudmFzXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVsbHNjcmVlbkNhbnZhcyk7XG5cbi8vIE1ha2UgdGhlIGNhbnZhcyBmdWxsc2NyZWVuXG5mdWxsc2NyZWVuQ2FudmFzKCk7XG5cbi8vIENyZWF0ZSB0aGUgbWFpbiBtZW51XG5jb25zdCBtYWluTWVudSA9IG5ldyBNYWluTWVudSgpO1xuXG4vLyBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHByZXNzaW5nIHRoZSBtZW51IGJ1dHRvbnNcbm1haW5NZW51LmFkZEV2ZW50TGlzdGVuZXIoJ3ByZXNzJywgKGV2ZW50IDogRWxlbWVudFByZXNzRXZlbnQpID0+IHtcbiAgICBtYWluTWVudS5kZXJlZ2lzdGVyRXZlbnRzKCk7XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHdpZHRoLCBoZWlnaHQgYW5kIG51bWJlciBvZiBtaW5lc1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0LCBudW1NaW5lcztcbiAgICBzd2l0Y2ggKGV2ZW50LnByZXNzZWRFbGVtZW50KSB7XG4gICAgY2FzZSBFQVNZX0JVVFRPTi5pZDpcbiAgICAgICAgd2lkdGggPSA5O1xuICAgICAgICBoZWlnaHQgPSA5O1xuICAgICAgICBudW1NaW5lcyA9IDEwO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlIE1FRElVTV9CVVRUT04uaWQ6XG4gICAgICAgIHdpZHRoID0gMTY7XG4gICAgICAgIGhlaWdodCA9IDE2O1xuICAgICAgICBudW1NaW5lcyA9IDQwO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlIEhBUkRfQlVUVE9OLmlkOlxuICAgICAgICB3aWR0aCA9IDMwO1xuICAgICAgICBoZWlnaHQgPSAxNjtcbiAgICAgICAgbnVtTWluZXMgPSA5OTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBnYW1lXG4gICAgbmV3IEdhbWUod2lkdGgsIGhlaWdodCwgbnVtTWluZXMsICgpID0+IHtcbiAgICAgICAgbWFpbk1lbnUucmVnaXN0ZXJFdmVudHMoKTtcbiAgICAgICAgbWFpbk1lbnUuZHJhdygpO1xuICAgIH0pO1xufSk7XG5tYWluTWVudS5kcmF3KCk7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInUiLCJjaHVua0lkIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSIsInAiLCJiIiwiYmFzZVVSSSIsInNlbGYiLCJocmVmIiwidG9rZW4iLCJ0aW1lem9uZSIsInRpbWV6b25lQ2xpcCIsIm1hc2tzIiwiZGVmYXVsdCIsInNob3J0RGF0ZSIsInBhZGRlZFNob3J0RGF0ZSIsIm1lZGl1bURhdGUiLCJsb25nRGF0ZSIsImZ1bGxEYXRlIiwic2hvcnRUaW1lIiwibWVkaXVtVGltZSIsImxvbmdUaW1lIiwiaXNvRGF0ZSIsImlzb1RpbWUiLCJpc29EYXRlVGltZSIsImlzb1V0Y0RhdGVUaW1lIiwiZXhwaXJlc0hlYWRlckZvcm1hdCIsImkxOG4iLCJkYXlOYW1lcyIsIm1vbnRoTmFtZXMiLCJ0aW1lTmFtZXMiLCJwYWQiLCJ2YWwiLCJsZW4iLCJhcmd1bWVudHMiLCJTdHJpbmciLCJwYWRTdGFydCIsImdldERheU5hbWUiLCJfcmVmIiwieSIsIl8iLCJkYXlOYW1lIiwiX3JlZiRzaG9ydCIsIl9zaG9ydCIsInRvZGF5IiwiRGF0ZSIsInllc3RlcmRheSIsInNldERhdGUiLCJ0b21vcnJvdyIsImdldFdlZWsiLCJkYXRlIiwidGFyZ2V0VGh1cnNkYXkiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldERheSIsImZpcnN0VGh1cnNkYXkiLCJkcyIsImdldFRpbWV6b25lT2Zmc2V0Iiwic2V0SG91cnMiLCJnZXRIb3VycyIsIndlZWtEaWZmIiwiTWF0aCIsImZsb29yIiwiZ2V0RGF5T2ZXZWVrIiwiZG93IiwiZm9ybWF0VGltZXpvbmUiLCJtYXRjaCIsInBvcCIsImNvbnNvbGVMb2ciLCJzIiwibm93IiwiY29uc29sZSIsImxvZyIsIm1hc2siLCJ1dGMiLCJnbXQiLCJ0ZXN0IiwiaXNOYU4iLCJUeXBlRXJyb3IiLCJtYXNrU2xpY2UiLCJzbGljZSIsIl9kIiwiRCIsIl9tIiwiX0giLCJfTSIsIl9zIiwiX0wiLCJfbyIsIl9XIiwiX04iLCJmbGFncyIsImRkIiwiZGRkIiwiREREIiwic2hvcnQiLCJkZGRkIiwiRERERCIsIm1tIiwibW1tIiwibW1tbSIsInl5IiwieXl5eSIsImgiLCJoaCIsIkgiLCJISCIsIk0iLCJNTSIsInNzIiwibCIsIkwiLCJ0IiwidHQiLCJUIiwiVFQiLCJaIiwiYWJzIiwiUyIsIlciLCJXVyIsIk4iLCJkYXRlRm9ybWF0IiwidGltZW91dElkRm9yRnVuYyIsIk1hcCIsImxpbWl0ZXIiLCJmdW5jIiwiZGVsYXkiLCJjbGVhclRpbWVvdXQiLCJzZXQiLCJzZXRUaW1lb3V0IiwiVElMRV9TSVpFIiwiU1BSSVRFUyIsIlRJTEVTIiwiRU1QVFkiLCJ4IiwidyIsIk1JTkUiLCJISURERU4iLCJGTEFHIiwiQ0xPU0UiLCJNT0RBTCIsIkJBQ0siLCJCQUNLX0hPVkVSRUQiLCJNQUlOX01FTlUiLCJUSVRMRSIsIkVBU1kiLCJFQVNZX0hPVkVSRUQiLCJNRURJVU0iLCJNRURJVU1fSE9WRVJFRCIsIkhBUkQiLCJIQVJEX0hPVkVSRUQiLCJDVVNUT00iLCJDVVNUT01fSE9WRVJFRCIsIlJFVFJZX01PREFMIiwiUkVUUlkiLCJSRVRSWV9IT1ZFUkVEIiwiU1VDQ0VTU19NT0RBTCIsIlJFU0VUIiwiUkVTRVRfSE9WRVJFRCIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsInNwcml0ZXNoZWV0IiwiSW1hZ2UiLCJzcHJpdGVzaGVldExvYWRlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYXdTcHJpdGUiLCJzcHJpdGUiLCJkcmF3UmVjdCIsInRoZW4iLCJkcmF3SW1hZ2UiLCJVUkwiLCJFdmVudE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImV2ZW50TGlzdGVuZXJzIiwidHlwZSIsImxpc3RlbmVyIiwibGlzdGVuZXJzRm9yRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZmlsdGVyIiwibGlzdGVuZXJGb3JFdmVudCIsImNhbGxFdmVudExpc3RlbmVycyIsImV2ZW50IiwiZm9yRWFjaCIsImJpZ2dlc3RFbGVtZW50QnlGaWVsZCIsImVsZW1lbnRzIiwiZmllbGQiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInNjYWxlIiwiZ2V0QWJzUG9zIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJvdW5kIiwibGVmdCIsInRvcCIsImludGVyc2VjdCIsImhpdGJveCIsIk1lbnUiLCJzdXBlciIsInRhbGxlc3RFbGVtZW50IiwibG9uZ2VzdEVsZW1lbnQiLCJlbGVtZW50SGl0Ym94ZXMiLCJob3ZlcmVkRWxlbWVudCIsImhhbmRsZVBvaW50ZXJNb3ZlIiwiY2xpZW50WCIsImNsaWVudFkiLCJlbnRyaWVzIiwiaGFuZGxlUG9pbnRlckRvd24iLCJwcmVzc2VkRWxlbWVudCIsInJlZ2lzdGVyRXZlbnRzIiwiZHJhdyIsImJvdW5kcyIsIndpZHRoIiwiaGVpZ2h0IiwiYWN0dWFsV2lkdGgiLCJhY3R1YWxIZWlnaHQiLCJpbnRlcmFjdGFibGUiLCJwYXJzZSIsImhvdmVyZWRTcHJpdGUiLCJkZXJlZ2lzdGVyRXZlbnRzIiwicG9zIiwiciIsIkVBU1lfQlVUVE9OIiwiTUVESVVNX0JVVFRPTiIsIkhBUkRfQlVUVE9OIiwiRUxFTUVOVFMiLCJUSUxFX0RSQVdfU0laRSIsIkNhbWVyYSIsImZpZWxkU2l6ZSIsInJlc2V0IiwicG9pbnRlckRvd25FdmVudCIsImhhbmRsZVdoZWVsIiwibmV3U2NhbGUiLCJkZWx0YVkiLCJ0cmFuc2xhdGlvbiIsInByZXZlbnREZWZhdWx0IiwidG91Y2hlcyIsIm1vdmVPclNjYWxlIiwiZGlzdGFuY2UiLCJ0aW1lb3V0IiwidG9Xb3JsZFBvcyIsImJ1dHRvbiIsImRlbHRhWCIsIm1heFgiLCJtYXhZIiwibWluIiwibWF4IiwidG91Y2gwIiwidG91Y2gxIiwiaHlwb3QiLCJ0b3VjaEluZGV4IiwiZmluZEluZGV4IiwicG9pbnRlcklkIiwiaGFuZGxlUG9pbnRlck91dCIsImhhbmRsZVBvaW50ZXJVcCIsIm1pZGRsZVRyYW5zbGF0aW9uIiwidG9DYW52YXNQb3MiLCJtaWRkbGVUcmFuc2xhdGUiLCJDTE9TRV9CVVRUT04iLCJCQUNLX0JVVFRPTiIsIk1vZGFsIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJtb2RhbFNpemUiLCJtb2RhbFgiLCJtb2RhbFkiLCJ0aWxlU2l6ZSIsIk1PREFMX0dSSURfU0laRSIsImlubmVyTW9kYWxCb3VuZHMiLCJSRVRSWV9CVVRUT04iLCJiaW5kIiwiUkVTRVRfQlVUVE9OIiwid29ya2VyIiwiV29ya2VyIiwicHJvbWlzZXMiLCJyZXNwb25zZSIsInJlamVjdCIsInN1Y2Nlc3MiLCJjbWQiLCJ3b3JrZXJDb25uZWN0ZWQiLCJxdWV1ZWRNZXNzYWdlcyIsInBvc3RNZXNzYWdlIiwibm9RdWV1ZSIsIm1zZyIsIm5ld01lc3NhZ2UiLCJzZW5kUGluZyIsInBpbmdQcm9taXNlIiwidGltZW91dFByb21pc2UiLCJyYWNlIiwicGluZ3MiLCJzZW5kUGluZ1VudGlsQ29ubmVjdCIsIk1vZGFsQ29udGFpbmVyIiwibW9kYWwiLCJvcGVuIiwiY2xvc2UiLCJoaWRlIiwiaGlkZGVuIiwicmV2ZWFsIiwiR2FtZSIsIm51bU1pbmVzIiwiaGFuZGxlQmFjayIsImNhbWVyYSIsImhhbmRsZVByZXNzIiwiaGFuZGxlTG9uZ1ByZXNzIiwiZHJhd1dpdGhMaW1pdCIsImdhbWVPdmVyIiwiZHJhd0FwcGVhcmFuY2UiLCJhcHBlYXJhbmNlRGF0YSIsImNsZWFyUmVjdCIsImRyYXdQcm9taXNlcyIsImFsbCIsImhhbmRsZVN0YXRlIiwic3RhdGVEYXRhIiwic3RhdGUiLCJoYW5kbGVFbmRHYW1lTW9kYWwiLCJtb2RhbENvbnN0cnVjdG9yIiwicmVzZXRFbGVtZW50SWQiLCJmdWxsc2NyZWVuQ2FudmFzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibWFpbk1lbnUiLCJjbGVhciJdLCJzb3VyY2VSb290IjoiIn0=